{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/templates/Minimal/index.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/templates/Minimal/index.tsx"],"sourcesContent":["import React from 'react'\n\nimport './index.scss'\n\nconst baseClass = 'template-minimal'\n\nexport type MinimalTemplateProps = {\n  children?: React.ReactNode\n  className?: string\n  style?: React.CSSProperties\n  width?: 'normal' | 'wide'\n}\n\nexport const MinimalTemplate: React.FC<MinimalTemplateProps> = (props) => {\n  const { children, className, style = {}, width = 'normal' } = props\n\n  const classes = [className, baseClass, `${baseClass}--width-${width}`].filter(Boolean).join(' ')\n\n  return (\n    <section className={classes} style={style}>\n      <div className={`${baseClass}__wrap`}>{children}</div>\n    </section>\n  )\n}\n"],"names":["React","baseClass","MinimalTemplate","props","children","className","style","width","classes","filter","Boolean","join","_jsx"],"mappings":";;;;;AAAA,OAAOA,KAAA,MAAW;;;AAIlB,MAAMC,SAAA,GAAY;AASX,MAAMC,eAAA,IAAmDC,KAAA;IAC9D,MAAM,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,KAAA,GAAQ,CAAC,CAAC,EAAEC,KAAA,GAAQ,QAAA,EAAU,GAAGJ,KAAA;IAE9D,MAAMK,OAAA,GAAU;QAACH,SAAA;QAAWJ,SAAA;QAAW,GAAGA,SAAA,CAAA,QAAA,EAAoBM,KAAA,EAAO;KAAC,CAACE,MAAM,CAACC,OAAA,EAASC,IAAI,CAAC;IAE5F,OAAA,WAAA,OACEC,qOAAA,EAAC,WAAA;QAAQP,SAAA,EAAWG,OAAA;QAASF,KAAA,EAAOA,KAAA;kBAClC,WAAA,OAAAM,qOAAA,EAAC,OAAA;YAAIP,SAAA,EAAW,GAAGJ,SAAA,CAAA,MAAA,CAAiB;sBAAGG;;;AAG7C","ignoreList":[]}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/utilities/handleAuthRedirect.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/utilities/handleAuthRedirect.ts"],"sourcesContent":["import type { TypedUser } from 'payload'\n\nimport { formatAdminURL } from 'payload/shared'\nimport * as qs from 'qs-esm'\n\ntype Args = {\n  config\n  route: string\n  searchParams: { [key: string]: string | string[] }\n  user?: TypedUser\n}\n\nexport const handleAuthRedirect = ({ config, route, searchParams, user }: Args): string => {\n  const {\n    admin: {\n      routes: { login: loginRouteFromConfig, unauthorized: unauthorizedRoute },\n    },\n    routes: { admin: adminRoute },\n  } = config\n\n  if (searchParams && 'redirect' in searchParams) {\n    delete searchParams.redirect\n  }\n\n  const redirectRoute =\n    (route !== adminRoute ? route : '') +\n    (Object.keys(searchParams ?? {}).length > 0\n      ? `${qs.stringify(searchParams, { addQueryPrefix: true })}`\n      : '')\n\n  const redirectTo = formatAdminURL({\n    adminRoute,\n    path: user ? unauthorizedRoute : loginRouteFromConfig,\n  })\n\n  const parsedLoginRouteSearchParams = qs.parse(redirectTo.split('?')[1] ?? '')\n\n  const searchParamsWithRedirect = `${qs.stringify(\n    {\n      ...parsedLoginRouteSearchParams,\n      ...(redirectRoute ? { redirect: redirectRoute } : {}),\n    },\n    { addQueryPrefix: true },\n  )}`\n\n  return `${redirectTo.split('?', 1)[0]}${searchParamsWithRedirect}`\n}\n"],"names":["formatAdminURL","qs","handleAuthRedirect","config","route","searchParams","user","admin","routes","login","loginRouteFromConfig","unauthorized","unauthorizedRoute","adminRoute","redirect","redirectRoute","Object","keys","length","stringify","addQueryPrefix","redirectTo","path","parsedLoginRouteSearchParams","parse","split","searchParamsWithRedirect"],"mappings":";;;;AAEA,SAASA,cAAc,QAAQ;;AAC/B,YAAYC,EAAA,MAAQ;;;;;;;AASb,MAAMC,kBAAA,GAAqBA,CAAC,EAAEC,MAAM,EAAEC,KAAK,EAAEC,YAAY,EAAEC,IAAAA,EAAY;IAC5E,MAAM,EACJC,KAAA,EAAO,EACLC,MAAA,EAAQ,EAAEC,KAAA,EAAOC,oBAAoB,EAAEC,YAAA,EAAcC,iBAAAA,EAAiB,EACvE,EACDJ,MAAA,EAAQ,EAAED,KAAA,EAAOM,UAAAA,EAAU,EAC5B,GAAGV,MAAA;IAEJ,IAAIE,YAAA,IAAgB,cAAcA,YAAA,EAAc;QAC9C,OAAOA,YAAA,CAAaS,QAAQ;IAC9B;IAEA,MAAMC,aAAA,GACJ,CAACX,KAAA,KAAUS,UAAA,GAAaT,KAAA,GAAQ,EAAC,IAAA,CAChCY,MAAA,CAAOC,IAAI,CAACZ,YAAA,IAAgB,CAAC,GAAGa,MAAM,GAAG,IACtC,GAAGjB,EAAA,CAAGkB,8JAAS,CAACd,YAAA,EAAc;QAAEe,cAAA,EAAgB;IAAK,IAAI,GACzD,EAAC;IAEP,MAAMC,UAAA,OAAarB,oJAAA,EAAe;QAChCa,UAAA;QACAS,IAAA,EAAMhB,IAAA,GAAOM,iBAAA,GAAoBF;IACnC;IAEA,MAAMa,4BAAA,GAA+BtB,EAAA,CAAGuB,sJAAK,CAACH,UAAA,CAAWI,KAAK,CAAC,IAAI,CAAC,EAAE,IAAI;IAE1E,MAAMC,wBAAA,GAA2B,GAAGzB,EAAA,CAAGkB,8JAAS,CAC9C;QACE,GAAGI,4BAA4B;QAC/B,GAAIR,aAAA,GAAgB;YAAED,QAAA,EAAUC;QAAc,IAAI,CAAC,CAAC;IACtD,GACA;QAAEK,cAAA,EAAgB;IAAK,IACtB;IAEH,OAAO,GAAGC,UAAA,CAAWI,KAAK,CAAC,KAAK,EAAE,CAAC,EAAE,GAAGC,wBAAA,EAA0B;AACpE","ignoreList":[]}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/utilities/getRouteWithoutAdmin.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/utilities/getRouteWithoutAdmin.ts"],"sourcesContent":["export const getRouteWithoutAdmin = ({\n  adminRoute,\n  route,\n}: {\n  adminRoute: string\n  route: string\n}): string => {\n  return adminRoute && adminRoute !== '/' ? route.replace(adminRoute, '') : route\n}\n"],"names":["getRouteWithoutAdmin","adminRoute","route","replace"],"mappings":";;;;AAAO,MAAMA,oBAAA,GAAuBA,CAAC,EACnCC,UAAU,EACVC,KAAAA,EAID;IACC,OAAOD,UAAA,IAAcA,UAAA,KAAe,MAAMC,KAAA,CAAMC,OAAO,CAACF,UAAA,EAAY,MAAMC,KAAA;AAC5E","ignoreList":[]}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/utilities/isCustomAdminView.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/utilities/isCustomAdminView.ts"],"sourcesContent":["import type { SanitizedConfig } from 'payload'\n\nimport { getRouteWithoutAdmin } from './getRouteWithoutAdmin.js'\n\n/**\n * Returns an array of views marked with 'public: true' in the config\n */\nexport const isCustomAdminView = ({\n  adminRoute,\n  config,\n  route,\n}: {\n  adminRoute: string\n  config: SanitizedConfig\n  route: string\n}): boolean => {\n  if (config.admin?.components?.views) {\n    const isPublicAdminRoute = Object.entries(config.admin.components.views).some(([_, view]) => {\n      const routeWithoutAdmin = getRouteWithoutAdmin({ adminRoute, route })\n\n      if (view.exact) {\n        if (routeWithoutAdmin === view.path) {\n          return true\n        }\n      } else {\n        if (routeWithoutAdmin.startsWith(view.path)) {\n          return true\n        }\n      }\n      return false\n    })\n    return isPublicAdminRoute\n  }\n  return false\n}\n"],"names":["getRouteWithoutAdmin","isCustomAdminView","adminRoute","config","route","admin","components","views","isPublicAdminRoute","Object","entries","some","_","view","routeWithoutAdmin","exact","path","startsWith"],"mappings":";;;;AAEA,SAASA,oBAAoB,QAAQ;;AAK9B,MAAMC,iBAAA,GAAoBA,CAAC,EAChCC,UAAU,EACVC,MAAM,EACNC,KAAAA,EAKD;IACC,IAAID,MAAA,CAAOE,KAAK,EAAEC,UAAA,EAAYC,KAAA,EAAO;QACnC,MAAMC,kBAAA,GAAqBC,MAAA,CAAOC,OAAO,CAACP,MAAA,CAAOE,KAAK,CAACC,UAAU,CAACC,KAAK,EAAEI,IAAI,CAAC,CAAC,CAACC,CAAA,EAAGC,IAAA,CAAK;YACtF,MAAMC,iBAAA,OAAoBd,gNAAA,EAAqB;gBAAEE,UAAA;gBAAYE;YAAM;YAEnE,IAAIS,IAAA,CAAKE,KAAK,EAAE;gBACd,IAAID,iBAAA,KAAsBD,IAAA,CAAKG,IAAI,EAAE;oBACnC,OAAO;gBACT;YACF,OAAO;gBACL,IAAIF,iBAAA,CAAkBG,UAAU,CAACJ,IAAA,CAAKG,IAAI,GAAG;oBAC3C,OAAO;gBACT;YACF;YACA,OAAO;QACT;QACA,OAAOR,kBAAA;IACT;IACA,OAAO;AACT","ignoreList":[]}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/utilities/isPublicAdminRoute.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/utilities/isPublicAdminRoute.ts"],"sourcesContent":["import type { SanitizedConfig } from 'payload'\n\nimport { getRouteWithoutAdmin } from './getRouteWithoutAdmin.js'\n\n// Routes that require admin authentication\nconst publicAdminRoutes: (keyof Pick<\n  SanitizedConfig['admin']['routes'],\n  'createFirstUser' | 'forgot' | 'inactivity' | 'login' | 'logout' | 'reset' | 'unauthorized'\n>)[] = [\n  'createFirstUser',\n  'forgot',\n  'login',\n  'logout',\n  'forgot',\n  'inactivity',\n  'unauthorized',\n  'reset',\n]\n\nexport const isPublicAdminRoute = ({\n  adminRoute,\n  config,\n  route,\n}: {\n  adminRoute: string\n  config: SanitizedConfig\n  route: string\n}): boolean => {\n  const isPublicAdminRoute = publicAdminRoutes.some((routeSegment) => {\n    const segment = config.admin?.routes?.[routeSegment] || routeSegment\n    const routeWithoutAdmin = getRouteWithoutAdmin({ adminRoute, route })\n\n    if (routeWithoutAdmin.startsWith(segment)) {\n      return true\n    } else if (routeWithoutAdmin.includes('/verify/')) {\n      return true\n    } else {\n      return false\n    }\n  })\n\n  return isPublicAdminRoute\n}\n"],"names":["getRouteWithoutAdmin","publicAdminRoutes","isPublicAdminRoute","adminRoute","config","route","some","routeSegment","segment","admin","routes","routeWithoutAdmin","startsWith","includes"],"mappings":";;;;AAEA,SAASA,oBAAoB,QAAQ;;AAErC,2CAAA;AACA,MAAMC,iBAAA,GAGC;IACL;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAMC,kBAAA,GAAqBA,CAAC,EACjCC,UAAU,EACVC,MAAM,EACNC,KAAAA,EAKD;IACC,MAAMH,kBAAA,GAAqBD,iBAAA,CAAkBK,IAAI,EAAEC,YAAA;QACjD,MAAMC,OAAA,GAAUJ,MAAA,CAAOK,KAAK,EAAEC,MAAA,EAAA,CAASH,YAAA,CAAa,IAAIA,YAAA;QACxD,MAAMI,iBAAA,OAAoBX,gNAAA,EAAqB;YAAEG,UAAA;YAAYE;QAAM;QAEnE,IAAIM,iBAAA,CAAkBC,UAAU,CAACJ,OAAA,GAAU;YACzC,OAAO;QACT,OAAO,IAAIG,iBAAA,CAAkBE,QAAQ,CAAC,aAAa;YACjD,OAAO;QACT,OAAO;YACL,OAAO;QACT;IACF;IAEA,OAAOX,kBAAA;AACT","ignoreList":[]}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Root/getCustomViewByRoute.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Root/getCustomViewByRoute.ts"],"sourcesContent":["import type { AdminViewConfig, SanitizedConfig } from 'payload'\n\nimport type { ViewFromConfig } from './getRouteData.js'\n\nimport { isPathMatchingRoute } from './isPathMatchingRoute.js'\n\nexport const getCustomViewByRoute = ({\n  config,\n  currentRoute: currentRouteWithAdmin,\n}: {\n  config: SanitizedConfig\n  currentRoute: string\n}): {\n  view: ViewFromConfig\n  viewConfig: AdminViewConfig\n  viewKey: string\n} => {\n  const {\n    admin: {\n      components: { views },\n    },\n    routes: { admin: adminRoute },\n  } = config\n\n  let viewKey: string\n\n  const currentRoute =\n    adminRoute === '/' ? currentRouteWithAdmin : currentRouteWithAdmin.replace(adminRoute, '')\n\n  const foundViewConfig =\n    (views &&\n      typeof views === 'object' &&\n      Object.entries(views).find(([key, view]) => {\n        const isMatching = isPathMatchingRoute({\n          currentRoute,\n          exact: view.exact,\n          path: view.path,\n          sensitive: view.sensitive,\n          strict: view.strict,\n        })\n\n        if (isMatching) {\n          viewKey = key\n        }\n\n        return isMatching\n      })?.[1]) ||\n    undefined\n\n  if (!foundViewConfig) {\n    return {\n      view: {\n        Component: null,\n      },\n      viewConfig: null,\n      viewKey: null,\n    }\n  }\n\n  return {\n    view: {\n      payloadComponent: foundViewConfig.Component,\n    },\n    viewConfig: foundViewConfig,\n    viewKey,\n  }\n}\n"],"names":["isPathMatchingRoute","getCustomViewByRoute","config","currentRoute","currentRouteWithAdmin","admin","components","views","routes","adminRoute","viewKey","replace","foundViewConfig","Object","entries","find","key","view","isMatching","exact","path","sensitive","strict","undefined","Component","viewConfig","payloadComponent"],"mappings":";;;;AAIA,SAASA,mBAAmB,QAAQ;;AAE7B,MAAMC,oBAAA,GAAuBA,CAAC,EACnCC,MAAM,EACNC,YAAA,EAAcC,qBAAAA,EAIf;IAKC,MAAM,EACJC,KAAA,EAAO,EACLC,UAAA,EAAY,EAAEC,KAAAA,EAAK,EACpB,EACDC,MAAA,EAAQ,EAAEH,KAAA,EAAOI,UAAAA,EAAU,EAC5B,GAAGP,MAAA;IAEJ,IAAIQ,OAAA;IAEJ,MAAMP,YAAA,GACJM,UAAA,KAAe,MAAML,qBAAA,GAAwBA,qBAAA,CAAsBO,OAAO,CAACF,UAAA,EAAY;IAEzF,MAAMG,eAAA,GACJL,KAAC,IACC,OAAOA,KAAA,KAAU,YACjBM,MAAA,CAAOC,OAAO,CAACP,KAAA,EAAOQ,IAAI,CAAC,CAAC,CAACC,GAAA,EAAKC,IAAA,CAAK;QACrC,MAAMC,UAAA,OAAalB,kNAAA,EAAoB;YACrCG,YAAA;YACAgB,KAAA,EAAOF,IAAA,CAAKE,KAAK;YACjBC,IAAA,EAAMH,IAAA,CAAKG,IAAI;YACfC,SAAA,EAAWJ,IAAA,CAAKI,SAAS;YACzBC,MAAA,EAAQL,IAAA,CAAKK,MAAAA;QACf;QAEA,IAAIJ,UAAA,EAAY;YACdR,OAAA,GAAUM,GAAA;QACZ;QAEA,OAAOE,UAAA;IACT,IAAA,CAAK,EAAE,IACTK,SAAA;IAEF,IAAI,CAACX,eAAA,EAAiB;QACpB,OAAO;YACLK,IAAA,EAAM;gBACJO,SAAA,EAAW;YACb;YACAC,UAAA,EAAY;YACZf,OAAA,EAAS;QACX;IACF;IAEA,OAAO;QACLO,IAAA,EAAM;YACJS,gBAAA,EAAkBd,eAAA,CAAgBY,SAAAA;QACpC;QACAC,UAAA,EAAYb,eAAA;QACZF;IACF;AACF","ignoreList":[]}},
    {"offset": {"line": 201, "column": 0}, "map": {"version":3,"sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/dist/views/Account/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AccountClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call AccountClient() from the server but AccountClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cms/node_modules/@payloadcms/next/dist/views/Account/index.client.js <module evaluation>\",\n    \"AccountClient\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,gBAAgB,IAAA,+QAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,sGACA","ignoreList":[0]}},
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/dist/views/Account/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AccountClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call AccountClient() from the server but AccountClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cms/node_modules/@payloadcms/next/dist/views/Account/index.client.js\",\n    \"AccountClient\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,gBAAgB,IAAA,+QAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,kFACA","ignoreList":[0]}},
    {"offset": {"line": 229, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Account/index.client.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Account/index.client.tsx"],"sourcesContent":["'use client'\nimport { type StepNavItem, useStepNav, useTranslation } from '@payloadcms/ui'\nimport React from 'react'\n\nexport const AccountClient: React.FC = () => {\n  const { setStepNav } = useStepNav()\n  const { t } = useTranslation()\n\n  React.useEffect(() => {\n    const nav: StepNavItem[] = []\n\n    nav.push({\n      label: t('authentication:account'),\n      url: '/account',\n    })\n\n    setStepNav(nav)\n  }, [setStepNav, t])\n\n  return null\n}\n"],"names":["c","_c","useStepNav","useTranslation","React","AccountClient","$","setStepNav","t","t0","t1","nav","push","label","url","useEffect"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 237, "column": 0}, "map": {"version":3,"sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/dist/views/Account/ResetPreferences/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ResetPreferences = registerClientReference(\n    function() { throw new Error(\"Attempted to call ResetPreferences() from the server but ResetPreferences is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cms/node_modules/@payloadcms/next/dist/views/Account/ResetPreferences/index.js <module evaluation>\",\n    \"ResetPreferences\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,+QAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,gHACA","ignoreList":[0]}},
    {"offset": {"line": 251, "column": 0}, "map": {"version":3,"sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/dist/views/Account/ResetPreferences/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ResetPreferences = registerClientReference(\n    function() { throw new Error(\"Attempted to call ResetPreferences() from the server but ResetPreferences is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cms/node_modules/@payloadcms/next/dist/views/Account/ResetPreferences/index.js\",\n    \"ResetPreferences\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,+QAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,4FACA","ignoreList":[0]}},
    {"offset": {"line": 265, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Account/ResetPreferences/index.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Account/ResetPreferences/index.tsx"],"sourcesContent":["'use client'\nimport type { TypedUser } from 'payload'\n\nimport { Button, ConfirmationModal, toast, useModal, useTranslation } from '@payloadcms/ui'\nimport * as qs from 'qs-esm'\nimport { Fragment, useCallback } from 'react'\n\nconst confirmResetModalSlug = 'confirm-reset-modal'\n\nexport const ResetPreferences: React.FC<{\n  readonly apiRoute: string\n  readonly user?: TypedUser\n}> = ({ apiRoute, user }) => {\n  const { openModal } = useModal()\n  const { t } = useTranslation()\n\n  const handleResetPreferences = useCallback(async () => {\n    if (!user) {\n      return\n    }\n\n    const stringifiedQuery = qs.stringify(\n      {\n        depth: 0,\n        where: {\n          user: {\n            id: {\n              equals: user.id,\n            },\n          },\n        },\n      },\n      { addQueryPrefix: true },\n    )\n\n    try {\n      const res = await fetch(`${apiRoute}/payload-preferences${stringifiedQuery}`, {\n        credentials: 'include',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        method: 'DELETE',\n      })\n\n      const json = await res.json()\n      const message = json.message\n\n      if (res.ok) {\n        toast.success(message)\n      } else {\n        toast.error(message)\n      }\n    } catch (_err) {\n      // swallow error\n    }\n  }, [apiRoute, user])\n\n  return (\n    <Fragment>\n      <div>\n        <Button buttonStyle=\"secondary\" onClick={() => openModal(confirmResetModalSlug)}>\n          {t('general:resetPreferences')}\n        </Button>\n      </div>\n      <ConfirmationModal\n        body={t('general:resetPreferencesDescription')}\n        confirmingLabel={t('general:resettingPreferences')}\n        heading={t('general:resetPreferences')}\n        modalSlug={confirmResetModalSlug}\n        onConfirm={handleResetPreferences}\n      />\n    </Fragment>\n  )\n}\n"],"names":["c","_c","Button","ConfirmationModal","toast","useModal","useTranslation","qs","Fragment","useCallback","confirmResetModalSlug","ResetPreferences","t0","$","apiRoute","user","openModal","t","t1","stringifiedQuery","stringify","depth","where","id","equals","addQueryPrefix","res","fetch","credentials","headers","method","json","message","ok","success","error","t2","_err","handleResetPreferences","t3","_jsxs","children","_jsx","buttonStyle","onClick","body","confirmingLabel","heading","modalSlug","onConfirm"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/dist/views/Account/ToggleTheme/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ToggleTheme = registerClientReference(\n    function() { throw new Error(\"Attempted to call ToggleTheme() from the server but ToggleTheme is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cms/node_modules/@payloadcms/next/dist/views/Account/ToggleTheme/index.js <module evaluation>\",\n    \"ToggleTheme\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,+QAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,2GACA","ignoreList":[0]}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/dist/views/Account/ToggleTheme/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ToggleTheme = registerClientReference(\n    function() { throw new Error(\"Attempted to call ToggleTheme() from the server but ToggleTheme is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cms/node_modules/@payloadcms/next/dist/views/Account/ToggleTheme/index.js\",\n    \"ToggleTheme\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,+QAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,uFACA","ignoreList":[0]}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Account/ToggleTheme/index.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Account/ToggleTheme/index.tsx"],"sourcesContent":["'use client'\n\nimport { RadioGroupField, useTheme, useTranslation } from '@payloadcms/ui'\nimport React, { useCallback } from 'react'\n\nexport const ToggleTheme: React.FC = () => {\n  const { autoMode, setTheme, theme } = useTheme()\n  const { t } = useTranslation()\n\n  const onChange = useCallback(\n    (newTheme) => {\n      setTheme(newTheme)\n    },\n    [setTheme],\n  )\n\n  return (\n    <RadioGroupField\n      disableModifyingForm={true}\n      field={{\n        name: 'theme',\n        label: t('general:adminTheme'),\n        options: [\n          {\n            label: t('general:automatic'),\n            value: 'auto',\n          },\n          {\n            label: t('general:light'),\n            value: 'light',\n          },\n          {\n            label: t('general:dark'),\n            value: 'dark',\n          },\n        ],\n      }}\n      onChange={onChange}\n      path=\"theme\"\n      value={autoMode ? 'auto' : theme}\n    />\n  )\n}\n"],"names":["c","_c","RadioGroupField","useTheme","useTranslation","React","useCallback","ToggleTheme","$","autoMode","setTheme","theme","t","t0","newTheme","onChange","t1","_jsx","disableModifyingForm","field","name","label","options","value","path"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 309, "column": 0}, "map": {"version":3,"sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/dist/views/Account/Settings/LanguageSelector.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LanguageSelector = registerClientReference(\n    function() { throw new Error(\"Attempted to call LanguageSelector() from the server but LanguageSelector is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cms/node_modules/@payloadcms/next/dist/views/Account/Settings/LanguageSelector.js <module evaluation>\",\n    \"LanguageSelector\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,+QAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,mHACA","ignoreList":[0]}},
    {"offset": {"line": 323, "column": 0}, "map": {"version":3,"sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/dist/views/Account/Settings/LanguageSelector.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LanguageSelector = registerClientReference(\n    function() { throw new Error(\"Attempted to call LanguageSelector() from the server but LanguageSelector is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cms/node_modules/@payloadcms/next/dist/views/Account/Settings/LanguageSelector.js\",\n    \"LanguageSelector\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,+QAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,+FACA","ignoreList":[0]}},
    {"offset": {"line": 337, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Account/Settings/LanguageSelector.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Account/Settings/LanguageSelector.tsx"],"sourcesContent":["'use client'\nimport type { AcceptedLanguages } from '@payloadcms/translations'\nimport type { ReactSelectOption } from '@payloadcms/ui'\nimport type { LanguageOptions } from 'payload'\n\nimport { ReactSelect, useTranslation } from '@payloadcms/ui'\nimport React from 'react'\n\nexport const LanguageSelector: React.FC<{\n  languageOptions: LanguageOptions\n}> = (props) => {\n  const { languageOptions } = props\n\n  const { i18n, switchLanguage } = useTranslation()\n\n  return (\n    <ReactSelect\n      inputId=\"language-select\"\n      isClearable={false}\n      onChange={async (option: ReactSelectOption<AcceptedLanguages>) => {\n        await switchLanguage(option.value)\n      }}\n      options={languageOptions}\n      value={languageOptions.find((language) => language.value === i18n.language)}\n    />\n  )\n}\n"],"names":["c","_c","ReactSelect","useTranslation","React","LanguageSelector","props","$","languageOptions","i18n","switchLanguage","t0","option","value","t1","t2","language","_jsx","inputId","isClearable","onChange","options","find"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 345, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Account/Settings/index.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Account/Settings/index.tsx"],"sourcesContent":["import type { I18n } from '@payloadcms/translations'\nimport type { BasePayload, Config, LanguageOptions, TypedUser } from 'payload'\n\nimport { FieldLabel } from '@payloadcms/ui'\nimport React from 'react'\n\nimport { ResetPreferences } from '../ResetPreferences/index.js'\nimport './index.scss'\nimport { ToggleTheme } from '../ToggleTheme/index.js'\nimport { LanguageSelector } from './LanguageSelector.js'\n\nconst baseClass = 'payload-settings'\n\nexport const Settings: React.FC<{\n  readonly className?: string\n  readonly i18n: I18n\n  readonly languageOptions: LanguageOptions\n  readonly payload: BasePayload\n  readonly theme: Config['admin']['theme']\n  readonly user?: TypedUser\n}> = (props) => {\n  const { className, i18n, languageOptions, payload, theme, user } = props\n\n  const apiRoute = payload.config.routes.api\n\n  return (\n    <div className={[baseClass, className].filter(Boolean).join(' ')}>\n      <h3>{i18n.t('general:payloadSettings')}</h3>\n      <div className={`${baseClass}__language`}>\n        <FieldLabel htmlFor=\"language-select\" label={i18n.t('general:language')} />\n        <LanguageSelector languageOptions={languageOptions} />\n      </div>\n      {theme === 'all' && <ToggleTheme />}\n      <ResetPreferences apiRoute={apiRoute} user={user} />\n    </div>\n  )\n}\n"],"names":["FieldLabel","React","ResetPreferences","ToggleTheme","LanguageSelector","baseClass","Settings","props","className","i18n","languageOptions","payload","theme","user","apiRoute","config","routes","api","_jsxs","filter","Boolean","join","_jsx","t","htmlFor","label"],"mappings":";;;;;AAGA,SAASA,UAAU,QAAQ;AAC3B,OAAOC,KAAA,MAAW;AAElB,SAASC,gBAAgB,QAAQ;AAEjC,SAASC,WAAW,QAAQ;AAC5B,SAASC,gBAAgB,QAAQ;;;;;;;AAEjC,MAAMC,SAAA,GAAY;AAEX,MAAMC,QAAA,IAOPC,KAAA;IACJ,MAAM,EAAEC,SAAS,EAAEC,IAAI,EAAEC,eAAe,EAAEC,OAAO,EAAEC,KAAK,EAAEC,IAAAA,EAAM,GAAGN,KAAA;IAEnE,MAAMO,QAAA,GAAWH,OAAA,CAAQI,MAAM,CAACC,MAAM,CAACC,GAAG;IAE1C,OAAA,WAAA,OACEC,sOAAA,EAAC,OAAA;QAAIV,SAAA,EAAW;YAACH,SAAA;YAAWG,SAAA;SAAU,CAACW,MAAM,CAACC,OAAA,EAASC,IAAI,CAAC;;8BAC1DC,qOAAA,EAAC,MAAA;0BAAIb,IAAA,CAAKc,CAAC,CAAC;;8BACZL,sOAAA,EAAC,OAAA;gBAAIV,SAAA,EAAW,GAAGH,SAAA,CAAA,UAAA,CAAqB;;sCACtCiB,qOAAA,EAACtB,6LAAA,EAAA;wBAAWwB,OAAA,EAAQ;wBAAkBC,KAAA,EAAOhB,IAAA,CAAKc,CAAC,CAAC;;sCACpDD,qOAAA,EAAClB,2NAAA,EAAA;wBAAiBM,eAAA,EAAiBA;;;;YAEpCE,KAAA,KAAU,SAAA,WAAA,OAASU,qOAAA,EAACnB,8MAAA,EAAA,CAAA;Y,W,OACrBmB,qOAAA,EAACpB,wNAAA,EAAA;gBAAiBY,QAAA,EAAUA,QAAA;gBAAUD,IAAA,EAAMA;;;;AAGlD","ignoreList":[]}},
    {"offset": {"line": 400, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Account/index.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Account/index.tsx"],"sourcesContent":["import type { AdminViewServerProps, DocumentViewServerPropsOnly } from 'payload'\n\nimport { DocumentInfoProvider, EditDepthProvider, HydrateAuthProvider } from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { buildFormState } from '@payloadcms/ui/utilities/buildFormState'\nimport { notFound } from 'next/navigation.js'\nimport React from 'react'\n\nimport { DocumentHeader } from '../../elements/DocumentHeader/index.js'\nimport { getDocPreferences } from '../Document/getDocPreferences.js'\nimport { getDocumentData } from '../Document/getDocumentData.js'\nimport { getDocumentPermissions } from '../Document/getDocumentPermissions.js'\nimport { getIsLocked } from '../Document/getIsLocked.js'\nimport { getVersions } from '../Document/getVersions.js'\nimport { EditView } from '../Edit/index.js'\nimport { AccountClient } from './index.client.js'\nimport { Settings } from './Settings/index.js'\n\nexport async function AccountView({ initPageResult, params, searchParams }: AdminViewServerProps) {\n  const {\n    languageOptions,\n    locale,\n    permissions,\n    req,\n    req: {\n      i18n,\n      payload,\n      payload: { config },\n      user,\n    },\n  } = initPageResult\n\n  const {\n    admin: { theme, user: userSlug },\n    routes: { api },\n    serverURL,\n  } = config\n\n  const collectionConfig = payload?.collections?.[userSlug]?.config\n\n  if (collectionConfig && user?.id) {\n    // Fetch the data required for the view\n    const data = await getDocumentData({\n      id: user.id,\n      collectionSlug: collectionConfig.slug,\n      locale,\n      payload,\n      req,\n      user,\n    })\n\n    if (!data) {\n      throw new Error('not-found')\n    }\n\n    // Get document preferences\n    const docPreferences = await getDocPreferences({\n      id: user.id,\n      collectionSlug: collectionConfig.slug,\n      payload,\n      user,\n    })\n\n    // Get permissions\n    const { docPermissions, hasPublishPermission, hasSavePermission } =\n      await getDocumentPermissions({\n        id: user.id,\n        collectionConfig,\n        data,\n        req,\n      })\n\n    // Build initial form state from data\n    const { state: formState } = await buildFormState({\n      id: user.id,\n      collectionSlug: collectionConfig.slug,\n      data,\n      docPermissions,\n      docPreferences,\n      locale: locale?.code,\n      operation: 'update',\n      renderAllFields: true,\n      req,\n      schemaPath: collectionConfig.slug,\n      skipValidation: true,\n    })\n\n    // Fetch document lock state\n    const { currentEditor, isLocked, lastUpdateTime } = await getIsLocked({\n      id: user.id,\n      collectionConfig,\n      isEditing: true,\n      req,\n    })\n\n    // Get all versions required for UI\n    const { hasPublishedDoc, mostRecentVersionIsAutosaved, unpublishedVersionCount, versionCount } =\n      await getVersions({\n        id: user.id,\n        collectionConfig,\n        doc: data,\n        docPermissions,\n        locale: locale?.code,\n        payload,\n        user,\n      })\n\n    return (\n      <DocumentInfoProvider\n        AfterFields={\n          <Settings\n            i18n={i18n}\n            languageOptions={languageOptions}\n            payload={payload}\n            theme={theme}\n            user={user}\n          />\n        }\n        apiURL={`${serverURL}${api}/${userSlug}${user?.id ? `/${user.id}` : ''}`}\n        collectionSlug={userSlug}\n        currentEditor={currentEditor}\n        docPermissions={docPermissions}\n        hasPublishedDoc={hasPublishedDoc}\n        hasPublishPermission={hasPublishPermission}\n        hasSavePermission={hasSavePermission}\n        id={user?.id}\n        initialData={data}\n        initialState={formState}\n        isEditing\n        isLocked={isLocked}\n        lastUpdateTime={lastUpdateTime}\n        mostRecentVersionIsAutosaved={mostRecentVersionIsAutosaved}\n        unpublishedVersionCount={unpublishedVersionCount}\n        versionCount={versionCount}\n      >\n        <EditDepthProvider>\n          <DocumentHeader\n            collectionConfig={collectionConfig}\n            hideTabs\n            permissions={permissions}\n            req={req}\n          />\n          <HydrateAuthProvider permissions={permissions} />\n          {RenderServerComponent({\n            Component: config.admin?.components?.views?.account?.Component,\n            Fallback: EditView,\n            importMap: payload.importMap,\n            serverProps: {\n              doc: data,\n              hasPublishedDoc,\n              i18n,\n              initPageResult,\n              locale,\n              params,\n              payload,\n              permissions,\n              routeSegments: [],\n              searchParams,\n              user,\n            } satisfies DocumentViewServerPropsOnly,\n          })}\n          <AccountClient />\n        </EditDepthProvider>\n      </DocumentInfoProvider>\n    )\n  }\n\n  return notFound()\n}\n"],"names":["DocumentInfoProvider","EditDepthProvider","HydrateAuthProvider","RenderServerComponent","buildFormState","notFound","React","DocumentHeader","getDocPreferences","getDocumentData","getDocumentPermissions","getIsLocked","getVersions","EditView","AccountClient","Settings","AccountView","initPageResult","params","searchParams","languageOptions","locale","permissions","req","i18n","payload","config","user","admin","theme","userSlug","routes","api","serverURL","collectionConfig","collections","id","data","collectionSlug","slug","Error","docPreferences","docPermissions","hasPublishPermission","hasSavePermission","state","formState","code","operation","renderAllFields","schemaPath","skipValidation","currentEditor","isLocked","lastUpdateTime","isEditing","hasPublishedDoc","mostRecentVersionIsAutosaved","unpublishedVersionCount","versionCount","doc","_jsx","AfterFields","apiURL","initialData","initialState","_jsxs","hideTabs","Component","components","views","account","Fallback","importMap","serverProps","routeSegments"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 574, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/BrowseByFolder/buildView.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/BrowseByFolder/buildView.tsx"],"sourcesContent":["import type {\n  AdminViewServerProps,\n  BuildCollectionFolderViewResult,\n  FolderListViewClientProps,\n  FolderListViewServerPropsOnly,\n  FolderSortKeys,\n  ListQuery,\n} from 'payload'\n\nimport { DefaultBrowseByFolderView, HydrateAuthProvider } from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { getFolderResultsComponentAndData, upsertPreferences } from '@payloadcms/ui/rsc'\nimport { formatAdminURL } from '@payloadcms/ui/shared'\nimport { redirect } from 'next/navigation.js'\nimport React from 'react'\n\nexport type BuildFolderViewArgs = {\n  customCellProps?: Record<string, any>\n  disableBulkDelete?: boolean\n  disableBulkEdit?: boolean\n  enableRowSelections: boolean\n  folderID?: number | string\n  isInDrawer?: boolean\n  overrideEntityVisibility?: boolean\n  query: ListQuery\n} & AdminViewServerProps\n\nexport const buildBrowseByFolderView = async (\n  args: BuildFolderViewArgs,\n): Promise<BuildCollectionFolderViewResult> => {\n  const {\n    browseByFolderSlugs: browseByFolderSlugsFromArgs = [],\n    disableBulkDelete,\n    disableBulkEdit,\n    enableRowSelections,\n    folderID,\n    initPageResult,\n    isInDrawer,\n    params,\n    query: queryFromArgs,\n    searchParams,\n  } = args\n\n  const {\n    locale: fullLocale,\n    permissions,\n    req: {\n      i18n,\n      payload,\n      payload: { config },\n      query: queryFromReq,\n      user,\n    },\n    visibleEntities,\n  } = initPageResult\n\n  if (config.folders === false || config.folders.browseByFolder === false) {\n    throw new Error('not-found')\n  }\n\n  const foldersSlug = config.folders.slug\n\n  /**\n   * All visiible folder enabled collection slugs that the user has read permissions for.\n   */\n  const allowReadCollectionSlugs = browseByFolderSlugsFromArgs.filter(\n    (collectionSlug) =>\n      permissions?.collections?.[collectionSlug]?.read &&\n      visibleEntities.collections.includes(collectionSlug),\n  )\n\n  const query =\n    queryFromArgs ||\n    ((queryFromReq\n      ? {\n          ...queryFromReq,\n          relationTo:\n            typeof queryFromReq?.relationTo === 'string'\n              ? JSON.parse(queryFromReq.relationTo)\n              : undefined,\n        }\n      : {}) as ListQuery)\n\n  /**\n   * If a folderID is provided and the relationTo query param exists,\n   * we filter the collection slugs to only those that are allowed to be read.\n   *\n   * If no folderID is provided, only folders should be active and displayed (the root view).\n   */\n  let collectionsToDisplay: string[] = []\n  if (folderID && Array.isArray(query?.relationTo)) {\n    collectionsToDisplay = query.relationTo.filter(\n      (slug) => allowReadCollectionSlugs.includes(slug) || slug === foldersSlug,\n    )\n  } else if (folderID) {\n    collectionsToDisplay = [...allowReadCollectionSlugs, foldersSlug]\n  } else {\n    collectionsToDisplay = [foldersSlug]\n  }\n\n  const {\n    routes: { admin: adminRoute },\n  } = config\n\n  /**\n   * @todo: find a pattern to avoid setting preferences on hard navigation, i.e. direct links, page refresh, etc.\n   * This will ensure that prefs are only updated when explicitly set by the user\n   * This could potentially be done by injecting a `sessionID` into the params and comparing it against a session cookie\n   */\n  const browseByFolderPreferences = await upsertPreferences<{\n    sort?: FolderSortKeys\n    viewPreference?: 'grid' | 'list'\n  }>({\n    key: 'browse-by-folder',\n    req: initPageResult.req,\n    value: {\n      sort: query?.sort as FolderSortKeys,\n    },\n  })\n\n  const sortPreference: FolderSortKeys = browseByFolderPreferences?.sort || 'name'\n  const viewPreference = browseByFolderPreferences?.viewPreference || 'grid'\n\n  const { breadcrumbs, documents, folderAssignedCollections, FolderResultsComponent, subfolders } =\n    await getFolderResultsComponentAndData({\n      browseByFolder: true,\n      collectionsToDisplay,\n      displayAs: viewPreference,\n      folderAssignedCollections: collectionsToDisplay.filter((slug) => slug !== foldersSlug) || [],\n      folderID,\n      req: initPageResult.req,\n      sort: sortPreference,\n    })\n\n  const resolvedFolderID = breadcrumbs[breadcrumbs.length - 1]?.id\n\n  if (\n    !isInDrawer &&\n    ((resolvedFolderID && folderID && folderID !== resolvedFolderID) ||\n      (folderID && !resolvedFolderID))\n  ) {\n    redirect(\n      formatAdminURL({\n        adminRoute,\n        path: config.admin.routes.browseByFolder,\n        serverURL: config.serverURL,\n      }),\n    )\n  }\n\n  const serverProps: Omit<FolderListViewServerPropsOnly, 'collectionConfig' | 'listPreferences'> = {\n    documents,\n    i18n,\n    locale: fullLocale,\n    params,\n    payload,\n    permissions,\n    searchParams,\n    subfolders,\n    user,\n  }\n\n  // const folderViewSlots = renderFolderViewSlots({\n  //   clientProps: {\n  //   },\n  //   description: staticDescription,\n  //   payload,\n  //   serverProps,\n  // })\n\n  // Filter down allCollectionFolderSlugs by the ones the current folder is assingned to\n  const allAvailableCollectionSlugs =\n    folderID && Array.isArray(folderAssignedCollections) && folderAssignedCollections.length\n      ? allowReadCollectionSlugs.filter((slug) => folderAssignedCollections.includes(slug))\n      : allowReadCollectionSlugs\n\n  // Filter down activeCollectionFolderSlugs by the ones the current folder is assingned to\n  const availableActiveCollectionFolderSlugs = collectionsToDisplay.filter((slug) => {\n    if (slug === foldersSlug) {\n      return permissions?.collections?.[foldersSlug]?.read\n    } else {\n      return !folderAssignedCollections || folderAssignedCollections.includes(slug)\n    }\n  })\n\n  // Documents cannot be created without a parent folder in this view\n  const allowCreateCollectionSlugs = (\n    resolvedFolderID ? [foldersSlug, ...allAvailableCollectionSlugs] : [foldersSlug]\n  ).filter((collectionSlug) => {\n    if (collectionSlug === foldersSlug) {\n      return permissions?.collections?.[foldersSlug]?.create\n    }\n    return (\n      permissions?.collections?.[collectionSlug]?.create &&\n      visibleEntities.collections.includes(collectionSlug)\n    )\n  })\n\n  return {\n    View: (\n      <>\n        <HydrateAuthProvider permissions={permissions} />\n        {RenderServerComponent({\n          clientProps: {\n            // ...folderViewSlots,\n            activeCollectionFolderSlugs: availableActiveCollectionFolderSlugs,\n            allCollectionFolderSlugs: allAvailableCollectionSlugs,\n            allowCreateCollectionSlugs,\n            baseFolderPath: `/browse-by-folder`,\n            breadcrumbs,\n            disableBulkDelete,\n            disableBulkEdit,\n            documents,\n            enableRowSelections,\n            folderAssignedCollections,\n            folderFieldName: config.folders.fieldName,\n            folderID: resolvedFolderID || null,\n            FolderResultsComponent,\n            sort: sortPreference,\n            subfolders,\n            viewPreference,\n          } satisfies FolderListViewClientProps,\n          // Component:config.folders?.components?.views?.BrowseByFolders?.Component,\n          Fallback: DefaultBrowseByFolderView,\n          importMap: payload.importMap,\n          serverProps,\n        })}\n      </>\n    ),\n  }\n}\n"],"names":["DefaultBrowseByFolderView","HydrateAuthProvider","RenderServerComponent","getFolderResultsComponentAndData","upsertPreferences","formatAdminURL","redirect","React","buildBrowseByFolderView","args","browseByFolderSlugs","browseByFolderSlugsFromArgs","disableBulkDelete","disableBulkEdit","enableRowSelections","folderID","initPageResult","isInDrawer","params","query","queryFromArgs","searchParams","locale","fullLocale","permissions","req","i18n","payload","config","queryFromReq","user","visibleEntities","folders","browseByFolder","Error","foldersSlug","slug","allowReadCollectionSlugs","filter","collectionSlug","collections","read","includes","relationTo","JSON","parse","undefined","collectionsToDisplay","Array","isArray","routes","admin","adminRoute","browseByFolderPreferences","key","value","sort","sortPreference","viewPreference","breadcrumbs","documents","folderAssignedCollections","FolderResultsComponent","subfolders","displayAs","resolvedFolderID","length","id","path","serverURL","serverProps","allAvailableCollectionSlugs","availableActiveCollectionFolderSlugs","allowCreateCollectionSlugs","create","View","_jsxs","_Fragment","_jsx","clientProps","activeCollectionFolderSlugs","allCollectionFolderSlugs","baseFolderPath","folderFieldName","fieldName","Fallback","importMap"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 744, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/BrowseByFolder/index.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/BrowseByFolder/index.tsx"],"sourcesContent":["import type React from 'react'\n\nimport { notFound } from 'next/navigation.js'\n\nimport type { BuildFolderViewArgs } from './buildView.js'\n\nimport { buildBrowseByFolderView } from './buildView.js'\n\nexport const BrowseByFolder: React.FC<BuildFolderViewArgs> = async (args) => {\n  try {\n    const { View } = await buildBrowseByFolderView(args)\n    return View\n  } catch (error) {\n    if (error?.message === 'NEXT_REDIRECT') {\n      throw error\n    }\n    if (error.message === 'not-found') {\n      notFound()\n    } else {\n      console.error(error) // eslint-disable-line no-console\n    }\n  }\n}\n"],"names":["notFound","buildBrowseByFolderView","BrowseByFolder","args","View","error","message","console"],"mappings":";;;;AAEA,SAASA,QAAQ,QAAQ;AAIzB,SAASC,uBAAuB,QAAQ;;;;;;;AAEjC,MAAMC,cAAA,GAAgD,OAAOC,IAAA;IAClE,IAAI;QACF,MAAM,EAAEC,IAAAA,EAAM,GAAG,UAAMH,sNAAA,EAAwBE,IAAA;QAC/C,OAAOC,IAAA;IACT,EAAE,OAAOC,KAAA,EAAO;QACd,IAAIA,KAAA,EAAOC,OAAA,KAAY,iBAAiB;YACtC,MAAMD,KAAA;QACR;QACA,IAAIA,KAAA,CAAMC,OAAO,KAAK,aAAa;gBACjCN,qJAAA;QACF,OAAO;YACLO,OAAA,CAAQF,KAAK,CAACA,KAAA,EAAO,iCAAA;;QACvB;IACF;AACF","ignoreList":[]}},
    {"offset": {"line": 779, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/CollectionFolders/buildView.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/CollectionFolders/buildView.tsx"],"sourcesContent":["import type {\n  AdminViewServerProps,\n  BuildCollectionFolderViewResult,\n  FolderListViewClientProps,\n  FolderListViewServerPropsOnly,\n  FolderSortKeys,\n  ListQuery,\n} from 'payload'\n\nimport { DefaultCollectionFolderView, HydrateAuthProvider } from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { getFolderResultsComponentAndData, upsertPreferences } from '@payloadcms/ui/rsc'\nimport { formatAdminURL } from '@payloadcms/ui/shared'\nimport { redirect } from 'next/navigation.js'\nimport React from 'react'\n\n// import { renderFolderViewSlots } from './renderFolderViewSlots.js'\n\nexport type BuildCollectionFolderViewStateArgs = {\n  disableBulkDelete?: boolean\n  disableBulkEdit?: boolean\n  enableRowSelections: boolean\n  folderID?: number | string\n  isInDrawer?: boolean\n  overrideEntityVisibility?: boolean\n  query: ListQuery\n} & AdminViewServerProps\n\n/**\n * Builds the entire view for collection-folder views on the server\n */\nexport const buildCollectionFolderView = async (\n  args: BuildCollectionFolderViewStateArgs,\n): Promise<BuildCollectionFolderViewResult> => {\n  const {\n    disableBulkDelete,\n    disableBulkEdit,\n    enableRowSelections,\n    folderID,\n    initPageResult,\n    isInDrawer,\n    overrideEntityVisibility,\n    params,\n    query: queryFromArgs,\n    searchParams,\n  } = args\n\n  const {\n    collectionConfig,\n    collectionConfig: { slug: collectionSlug },\n    locale: fullLocale,\n    permissions,\n    req: {\n      i18n,\n      payload,\n      payload: { config },\n      query: queryFromReq,\n      user,\n    },\n    visibleEntities,\n  } = initPageResult\n\n  if (!config.folders) {\n    throw new Error('not-found')\n  }\n\n  if (\n    !permissions?.collections?.[collectionSlug]?.read ||\n    !permissions?.collections?.[config.folders.slug].read\n  ) {\n    throw new Error('not-found')\n  }\n\n  if (collectionConfig) {\n    if (\n      (!visibleEntities.collections.includes(collectionSlug) && !overrideEntityVisibility) ||\n      !config.folders\n    ) {\n      throw new Error('not-found')\n    }\n\n    const query = queryFromArgs || queryFromReq\n\n    /**\n     * @todo: find a pattern to avoid setting preferences on hard navigation, i.e. direct links, page refresh, etc.\n     * This will ensure that prefs are only updated when explicitly set by the user\n     * This could potentially be done by injecting a `sessionID` into the params and comparing it against a session cookie\n     */\n    const collectionFolderPreferences = await upsertPreferences<{\n      sort?: FolderSortKeys\n      viewPreference?: 'grid' | 'list'\n    }>({\n      key: `${collectionSlug}-collection-folder`,\n      req: initPageResult.req,\n      value: {\n        sort: query?.sort as FolderSortKeys,\n      },\n    })\n\n    const sortPreference: FolderSortKeys = collectionFolderPreferences?.sort || 'name'\n    const viewPreference = collectionFolderPreferences?.viewPreference || 'grid'\n\n    const {\n      routes: { admin: adminRoute },\n    } = config\n\n    const {\n      breadcrumbs,\n      documents,\n      folderAssignedCollections,\n      FolderResultsComponent,\n      subfolders,\n    } = await getFolderResultsComponentAndData({\n      browseByFolder: false,\n      collectionsToDisplay: [config.folders.slug, collectionSlug],\n      displayAs: viewPreference,\n      folderAssignedCollections: [collectionSlug],\n      folderID,\n      req: initPageResult.req,\n      sort: sortPreference,\n    })\n\n    const resolvedFolderID = breadcrumbs[breadcrumbs.length - 1]?.id\n\n    if (\n      !isInDrawer &&\n      ((resolvedFolderID && folderID && folderID !== resolvedFolderID) ||\n        (folderID && !resolvedFolderID))\n    ) {\n      redirect(\n        formatAdminURL({\n          adminRoute,\n          path: `/collections/${collectionSlug}/${config.folders.slug}`,\n          serverURL: config.serverURL,\n        }),\n      )\n    }\n\n    const serverProps: FolderListViewServerPropsOnly = {\n      collectionConfig,\n      documents,\n      i18n,\n      locale: fullLocale,\n      params,\n      payload,\n      permissions,\n      searchParams,\n      subfolders,\n      user,\n    }\n\n    // We could support slots in the folder view in the future\n    // const folderViewSlots = renderFolderViewSlots({\n    //   clientProps: {\n    //     collectionSlug,\n    //     hasCreatePermission,\n    //     newDocumentURL,\n    //   },\n    //   collectionConfig,\n    //   description: typeof collectionConfig.admin.description === 'function'\n    //   ? collectionConfig.admin.description({ t: i18n.t })\n    //   : collectionConfig.admin.description,\n    //   payload,\n    //   serverProps,\n    // })\n\n    const search = query?.search as string\n\n    return {\n      View: (\n        <>\n          <HydrateAuthProvider permissions={permissions} />\n          {RenderServerComponent({\n            clientProps: {\n              // ...folderViewSlots,\n              allCollectionFolderSlugs: [config.folders.slug, collectionSlug],\n              allowCreateCollectionSlugs: [\n                permissions?.collections?.[config.folders.slug]?.create\n                  ? config.folders.slug\n                  : null,\n                resolvedFolderID && permissions?.collections?.[collectionSlug]?.create\n                  ? collectionSlug\n                  : null,\n              ].filter(Boolean),\n              baseFolderPath: `/collections/${collectionSlug}/${config.folders.slug}`,\n              breadcrumbs,\n              collectionSlug,\n              disableBulkDelete,\n              disableBulkEdit,\n              documents,\n              enableRowSelections,\n              folderAssignedCollections,\n              folderFieldName: config.folders.fieldName,\n              folderID: resolvedFolderID || null,\n              FolderResultsComponent,\n              search,\n              sort: sortPreference,\n              subfolders,\n              viewPreference,\n            } satisfies FolderListViewClientProps,\n            // Component: collectionConfig?.admin?.components?.views?.Folders?.Component,\n            Fallback: DefaultCollectionFolderView,\n            importMap: payload.importMap,\n            serverProps,\n          })}\n        </>\n      ),\n    }\n  }\n\n  throw new Error('not-found')\n}\n"],"names":["DefaultCollectionFolderView","HydrateAuthProvider","RenderServerComponent","getFolderResultsComponentAndData","upsertPreferences","formatAdminURL","redirect","React","buildCollectionFolderView","args","disableBulkDelete","disableBulkEdit","enableRowSelections","folderID","initPageResult","isInDrawer","overrideEntityVisibility","params","query","queryFromArgs","searchParams","collectionConfig","slug","collectionSlug","locale","fullLocale","permissions","req","i18n","payload","config","queryFromReq","user","visibleEntities","folders","Error","collections","read","includes","collectionFolderPreferences","key","value","sort","sortPreference","viewPreference","routes","admin","adminRoute","breadcrumbs","documents","folderAssignedCollections","FolderResultsComponent","subfolders","browseByFolder","collectionsToDisplay","displayAs","resolvedFolderID","length","id","path","serverURL","serverProps","search","View","_jsxs","_Fragment","_jsx","clientProps","allCollectionFolderSlugs","allowCreateCollectionSlugs","create","filter","Boolean","baseFolderPath","folderFieldName","fieldName","Fallback","importMap"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 932, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/CollectionFolders/index.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/CollectionFolders/index.tsx"],"sourcesContent":["import type React from 'react'\n\nimport { notFound } from 'next/navigation.js'\n\nimport type { BuildCollectionFolderViewStateArgs } from './buildView.js'\n\nimport { buildCollectionFolderView } from './buildView.js'\n\nexport const CollectionFolderView: React.FC<BuildCollectionFolderViewStateArgs> = async (args) => {\n  try {\n    const { View } = await buildCollectionFolderView(args)\n    return View\n  } catch (error) {\n    if (error?.message === 'NEXT_REDIRECT') {\n      throw error\n    }\n    if (error.message === 'not-found') {\n      notFound()\n    } else {\n      console.error(error) // eslint-disable-line no-console\n    }\n  }\n}\n"],"names":["notFound","buildCollectionFolderView","CollectionFolderView","args","View","error","message","console"],"mappings":";;;;AAEA,SAASA,QAAQ,QAAQ;AAIzB,SAASC,yBAAyB,QAAQ;;;;;;;AAEnC,MAAMC,oBAAA,GAAqE,OAAOC,IAAA;IACvF,IAAI;QACF,MAAM,EAAEC,IAAAA,EAAM,GAAG,UAAMH,2NAAA,EAA0BE,IAAA;QACjD,OAAOC,IAAA;IACT,EAAE,OAAOC,KAAA,EAAO;QACd,IAAIA,KAAA,EAAOC,OAAA,KAAY,iBAAiB;YACtC,MAAMD,KAAA;QACR;QACA,IAAIA,KAAA,CAAMC,OAAO,KAAK,aAAa;gBACjCN,qJAAA;QACF,OAAO;YACLO,OAAA,CAAQF,KAAK,CAACA,KAAA,EAAO,iCAAA;;QACvB;IACF;AACF","ignoreList":[]}},
    {"offset": {"line": 967, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/CollectionTrash/index.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/CollectionTrash/index.tsx"],"sourcesContent":["import type { AdminViewServerProps, ListQuery } from 'payload'\nimport type React from 'react'\n\nimport { notFound } from 'next/navigation.js'\n\nimport { renderListView } from '../List/index.js'\n\ntype RenderTrashViewArgs = {\n  customCellProps?: Record<string, any>\n  disableBulkDelete?: boolean\n  disableBulkEdit?: boolean\n  disableQueryPresets?: boolean\n  drawerSlug?: string\n  enableRowSelections: boolean\n  overrideEntityVisibility?: boolean\n  query: ListQuery\n  redirectAfterDelete?: boolean\n  redirectAfterDuplicate?: boolean\n  redirectAfterRestore?: boolean\n} & AdminViewServerProps\n\nexport const TrashView: React.FC<Omit<RenderTrashViewArgs, 'enableRowSelections'>> = async (\n  args,\n) => {\n  try {\n    const { List: TrashList } = await renderListView({\n      ...args,\n      enableRowSelections: true,\n      trash: true,\n      viewType: 'trash',\n    })\n\n    return TrashList\n  } catch (error) {\n    if (error.message === 'not-found') {\n      notFound()\n    }\n    console.error(error) // eslint-disable-line no-console\n  }\n}\n"],"names":["notFound","renderListView","TrashView","args","List","TrashList","enableRowSelections","trash","viewType","error","message","console"],"mappings":";;;;AAGA,SAASA,QAAQ,QAAQ;AAEzB,SAASC,cAAc,QAAQ;;;;;;;AAgBxB,MAAMC,SAAA,GAAwE,OACnFC,IAAA;IAEA,IAAI;QACF,MAAM,EAAEC,IAAA,EAAMC,SAAAA,EAAW,GAAG,UAAMJ,+LAAA,EAAe;YAC/C,GAAGE,IAAI;YACPG,mBAAA,EAAqB;YACrBC,KAAA,EAAO;YACPC,QAAA,EAAU;QACZ;QAEA,OAAOH,SAAA;IACT,EAAE,OAAOI,KAAA,EAAO;QACd,IAAIA,KAAA,CAAMC,OAAO,KAAK,aAAa;gBACjCV,qJAAA;QACF;QACAW,OAAA,CAAQF,KAAK,CAACA,KAAA,EAAO,iCAAA;;IACvB;AACF","ignoreList":[]}},
    {"offset": {"line": 1001, "column": 0}, "map": {"version":3,"sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/dist/views/CreateFirstUser/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CreateFirstUserClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call CreateFirstUserClient() from the server but CreateFirstUserClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cms/node_modules/@payloadcms/next/dist/views/CreateFirstUser/index.client.js <module evaluation>\",\n    \"CreateFirstUserClient\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,wBAAwB,IAAA,+QAAuB,EACxD;IAAa,MAAM,IAAI,MAAM;AAA0P,GACvR,8GACA","ignoreList":[0]}},
    {"offset": {"line": 1015, "column": 0}, "map": {"version":3,"sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/dist/views/CreateFirstUser/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CreateFirstUserClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call CreateFirstUserClient() from the server but CreateFirstUserClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cms/node_modules/@payloadcms/next/dist/views/CreateFirstUser/index.client.js\",\n    \"CreateFirstUserClient\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,wBAAwB,IAAA,+QAAuB,EACxD;IAAa,MAAM,IAAI,MAAM;AAA0P,GACvR,0FACA","ignoreList":[0]}},
    {"offset": {"line": 1029, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/CreateFirstUser/index.client.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/CreateFirstUser/index.client.tsx"],"sourcesContent":["'use client'\nimport type { FormProps, UserWithToken } from '@payloadcms/ui'\nimport type {\n  DocumentPreferences,\n  FormState,\n  LoginWithUsernameOptions,\n  SanitizedDocumentPermissions,\n} from 'payload'\n\nimport {\n  ConfirmPasswordField,\n  EmailAndUsernameFields,\n  Form,\n  FormSubmit,\n  PasswordField,\n  RenderFields,\n  useAuth,\n  useConfig,\n  useServerFunctions,\n  useTranslation,\n} from '@payloadcms/ui'\nimport { abortAndIgnore, handleAbortRef } from '@payloadcms/ui/shared'\nimport React, { useEffect } from 'react'\n\nexport const CreateFirstUserClient: React.FC<{\n  docPermissions: SanitizedDocumentPermissions\n  docPreferences: DocumentPreferences\n  initialState: FormState\n  loginWithUsername?: false | LoginWithUsernameOptions\n  userSlug: string\n}> = ({ docPermissions, docPreferences, initialState, loginWithUsername, userSlug }) => {\n  const {\n    config: {\n      routes: { admin, api: apiRoute },\n      serverURL,\n    },\n    getEntityConfig,\n  } = useConfig()\n\n  const { getFormState } = useServerFunctions()\n\n  const { t } = useTranslation()\n  const { setUser } = useAuth()\n\n  const abortOnChangeRef = React.useRef<AbortController>(null)\n\n  const collectionConfig = getEntityConfig({ collectionSlug: userSlug })\n\n  const onChange: FormProps['onChange'][0] = React.useCallback(\n    async ({ formState: prevFormState, submitted }) => {\n      const controller = handleAbortRef(abortOnChangeRef)\n\n      const response = await getFormState({\n        collectionSlug: userSlug,\n        docPermissions,\n        docPreferences,\n        formState: prevFormState,\n        operation: 'create',\n        schemaPath: userSlug,\n        signal: controller.signal,\n        skipValidation: !submitted,\n      })\n\n      abortOnChangeRef.current = null\n\n      if (response && response.state) {\n        return response.state\n      }\n    },\n    [userSlug, getFormState, docPermissions, docPreferences],\n  )\n\n  const handleFirstRegister = (data: UserWithToken) => {\n    setUser(data)\n  }\n\n  useEffect(() => {\n    const abortOnChange = abortOnChangeRef.current\n\n    return () => {\n      abortAndIgnore(abortOnChange)\n    }\n  }, [])\n\n  return (\n    <Form\n      action={`${serverURL}${apiRoute}/${userSlug}/first-register`}\n      initialState={{\n        ...initialState,\n        'confirm-password': {\n          ...initialState['confirm-password'],\n          valid: initialState['confirm-password']['valid'] || false,\n          value: initialState['confirm-password']['value'] || '',\n        },\n      }}\n      method=\"POST\"\n      onChange={[onChange]}\n      onSuccess={handleFirstRegister}\n      redirect={admin}\n      validationOperation=\"create\"\n    >\n      <EmailAndUsernameFields\n        className=\"emailAndUsername\"\n        loginWithUsername={loginWithUsername}\n        operation=\"create\"\n        readOnly={false}\n        t={t}\n      />\n      <PasswordField\n        autoComplete=\"off\"\n        field={{\n          name: 'password',\n          label: t('authentication:newPassword'),\n          required: true,\n        }}\n        path=\"password\"\n      />\n      <ConfirmPasswordField />\n      <RenderFields\n        fields={collectionConfig.fields}\n        forceRender\n        parentIndexPath=\"\"\n        parentPath=\"\"\n        parentSchemaPath={userSlug}\n        permissions={true}\n        readOnly={false}\n      />\n      <FormSubmit size=\"large\">{t('general:create')}</FormSubmit>\n    </Form>\n  )\n}\n"],"names":["ConfirmPasswordField","EmailAndUsernameFields","Form","FormSubmit","PasswordField","RenderFields","useAuth","useConfig","useServerFunctions","useTranslation","abortAndIgnore","handleAbortRef","React","useEffect","CreateFirstUserClient","docPermissions","docPreferences","initialState","loginWithUsername","userSlug","config","routes","admin","api","apiRoute","serverURL","getEntityConfig","getFormState","t","setUser","abortOnChangeRef","useRef","collectionConfig","collectionSlug","onChange","useCallback","formState","prevFormState","submitted","controller","response","operation","schemaPath","signal","skipValidation","current","state","handleFirstRegister","data","abortOnChange","_jsxs","action","valid","value","method","onSuccess","redirect","validationOperation","_jsx","className","readOnly","autoComplete","field","name","label","required","path","fields","forceRender","parentIndexPath","parentPath","parentSchemaPath","permissions","size"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 1039, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/CreateFirstUser/index.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/CreateFirstUser/index.tsx"],"sourcesContent":["import type {\n  AdminViewServerProps,\n  SanitizedDocumentPermissions,\n  SanitizedFieldsPermissions,\n} from 'payload'\n\nimport { buildFormState } from '@payloadcms/ui/utilities/buildFormState'\nimport React from 'react'\n\nimport { getDocPreferences } from '../Document/getDocPreferences.js'\nimport { getDocumentData } from '../Document/getDocumentData.js'\nimport { CreateFirstUserClient } from './index.client.js'\nimport './index.scss'\n\nexport async function CreateFirstUserView({ initPageResult }: AdminViewServerProps) {\n  const {\n    locale,\n    req,\n    req: {\n      payload: {\n        collections,\n        config: {\n          admin: { user: userSlug },\n        },\n      },\n    },\n  } = initPageResult\n\n  const collectionConfig = collections?.[userSlug]?.config\n  const { auth: authOptions } = collectionConfig\n  const loginWithUsername = authOptions.loginWithUsername\n\n  // Fetch the data required for the view\n  const data = await getDocumentData({\n    collectionSlug: collectionConfig.slug,\n    locale,\n    payload: req.payload,\n    req,\n    user: req.user,\n  })\n\n  // Get document preferences\n  const docPreferences = await getDocPreferences({\n    collectionSlug: collectionConfig.slug,\n    payload: req.payload,\n    user: req.user,\n  })\n\n  const baseFields: SanitizedFieldsPermissions = Object.fromEntries(\n    collectionConfig.fields\n      .filter((f): f is { name: string } & typeof f => 'name' in f && typeof f.name === 'string')\n      .map((f) => [f.name, { create: true, read: true, update: true }]),\n  )\n\n  // In create-first-user we should always allow all fields\n  const docPermissionsForForm: SanitizedDocumentPermissions = {\n    create: true,\n    delete: true,\n    fields: baseFields,\n    read: true,\n    readVersions: true,\n    update: true,\n  }\n\n  // Build initial form state from data\n  const { state: formState } = await buildFormState({\n    collectionSlug: collectionConfig.slug,\n    data,\n    docPermissions: docPermissionsForForm,\n    docPreferences,\n    locale: locale?.code,\n    operation: 'create',\n    renderAllFields: true,\n    req,\n    schemaPath: collectionConfig.slug,\n    skipClientConfigAuth: true,\n    skipValidation: true,\n  })\n\n  return (\n    <div className=\"create-first-user\">\n      <h1>{req.t('general:welcome')}</h1>\n      <p>{req.t('authentication:beginCreateFirstUser')}</p>\n      <CreateFirstUserClient\n        docPermissions={docPermissionsForForm}\n        docPreferences={docPreferences}\n        initialState={formState}\n        loginWithUsername={loginWithUsername}\n        userSlug={userSlug}\n      />\n    </div>\n  )\n}\n"],"names":["buildFormState","React","getDocPreferences","getDocumentData","CreateFirstUserClient","CreateFirstUserView","initPageResult","locale","req","payload","collections","config","admin","user","userSlug","collectionConfig","auth","authOptions","loginWithUsername","data","collectionSlug","slug","docPreferences","baseFields","Object","fromEntries","fields","filter","f","name","map","create","read","update","docPermissionsForForm","delete","readVersions","state","formState","docPermissions","code","operation","renderAllFields","schemaPath","skipClientConfigAuth","skipValidation","_jsxs","className","_jsx","t","initialState"],"mappings":";;;;;AAMA,SAASA,cAAc,QAAQ;AAC/B,OAAOC,KAAA,MAAW;AAElB,SAASC,iBAAiB,QAAQ;AAClC,SAASC,eAAe,QAAQ;AAChC,SAASC,qBAAqB,QAAQ;;;;;;;;;;;;;AAG/B,eAAeC,oBAAoB,EAAEC,cAAAA,EAAsC;IAChF,MAAM,EACJC,MAAM,EACNC,GAAG,EACHA,GAAA,EAAK,EACHC,OAAA,EAAS,EACPC,WAAW,EACXC,MAAA,EAAQ,EACNC,KAAA,EAAO,EAAEC,IAAA,EAAMC,QAAAA,EAAQ,EAAE,EAC1B,EACF,EAEJ,GAAGR,cAAA;IAEJ,MAAMS,gBAAA,GAAmBL,WAAA,EAAA,CAAcI,QAAA,CAAS,EAAEH,MAAA;IAClD,MAAM,EAAEK,IAAA,EAAMC,WAAAA,EAAa,GAAGF,gBAAA;IAC9B,MAAMG,iBAAA,GAAoBD,WAAA,CAAYC,iBAAiB;IAEvD,uCAAA;IACA,MAAMC,IAAA,GAAO,UAAMhB,8MAAA,EAAgB;QACjCiB,cAAA,EAAgBL,gBAAA,CAAiBM,IAAI;QACrCd,MAAA;QACAE,OAAA,EAASD,GAAA,CAAIC,OAAO;QACpBD,GAAA;QACAK,IAAA,EAAML,GAAA,CAAIK,IAAAA;IACZ;IAEA,2BAAA;IACA,MAAMS,cAAA,GAAiB,UAAMpB,kNAAA,EAAkB;QAC7CkB,cAAA,EAAgBL,gBAAA,CAAiBM,IAAI;QACrCZ,OAAA,EAASD,GAAA,CAAIC,OAAO;QACpBI,IAAA,EAAML,GAAA,CAAIK,IAAAA;IACZ;IAEA,MAAMU,UAAA,GAAyCC,MAAA,CAAOC,WAAW,CAC/DV,gBAAA,CAAiBW,MAAM,CACpBC,MAAM,EAAEC,CAAA,GAAwC,UAAUA,CAAA,IAAK,OAAOA,CAAA,CAAEC,IAAI,KAAK,UACjFC,GAAG,EAAEF,CAAA,GAAM;YAACA,CAAA,CAAEC,IAAI;YAAE;gBAAEE,MAAA,EAAQ;gBAAMC,IAAA,EAAM;gBAAMC,MAAA,EAAQ;YAAK;SAAE;IAGpE,yDAAA;IACA,MAAMC,qBAAA,GAAsD;QAC1DH,MAAA,EAAQ;QACRI,MAAA,EAAQ;QACRT,MAAA,EAAQH,UAAA;QACRS,IAAA,EAAM;QACNI,YAAA,EAAc;QACdH,MAAA,EAAQ;IACV;IAEA,qCAAA;IACA,MAAM,EAAEI,KAAA,EAAOC,SAAAA,EAAW,GAAG,UAAMtC,kMAAA,EAAe;QAChDoB,cAAA,EAAgBL,gBAAA,CAAiBM,IAAI;QACrCF,IAAA;QACAoB,cAAA,EAAgBL,qBAAA;QAChBZ,cAAA;QACAf,MAAA,EAAQA,MAAA,EAAQiC,IAAA;QAChBC,SAAA,EAAW;QACXC,eAAA,EAAiB;QACjBlC,GAAA;QACAmC,UAAA,EAAY5B,gBAAA,CAAiBM,IAAI;QACjCuB,oBAAA,EAAsB;QACtBC,cAAA,EAAgB;IAClB;IAEA,OAAA,WAAA,OACEC,sOAAA,EAAC,OAAA;QAAIC,SAAA,EAAU;;8BACbC,qOAAA,EAAC,MAAA;0BAAIxC,GAAA,CAAIyC,CAAC,CAAC;;8BACXD,qOAAA,EAAC,KAAA;0BAAGxC,GAAA,CAAIyC,CAAC,CAAC;;8BACVD,qOAAA,EAAC5C,2NAAA,EAAA;gBACCmC,cAAA,EAAgBL,qBAAA;gBAChBZ,cAAA,EAAgBA,cAAA;gBAChB4B,YAAA,EAAcZ,SAAA;gBACdpB,iBAAA,EAAmBA,iBAAA;gBACnBJ,QAAA,EAAUA;;;;AAIlB","ignoreList":[]}},
    {"offset": {"line": 1137, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Dashboard/Default/index.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Dashboard/Default/index.tsx"],"sourcesContent":["import type { groupNavItems } from '@payloadcms/ui/shared'\nimport type { AdminViewServerPropsOnly, ClientUser, Locale, ServerProps } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport { Button, Card, Gutter, Locked } from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { EntityType } from '@payloadcms/ui/shared'\nimport { formatAdminURL } from 'payload/shared'\nimport React, { Fragment } from 'react'\n\nimport './index.scss'\n\nconst baseClass = 'dashboard'\n\nexport type DashboardViewClientProps = {\n  locale: Locale\n}\n\nexport type DashboardViewServerPropsOnly = {\n  globalData: Array<{\n    data: { _isLocked: boolean; _lastEditedAt: string; _userEditing: ClientUser | number | string }\n    lockDuration?: number\n    slug: string\n  }>\n  /**\n   * @deprecated\n   * This prop is deprecated and will be removed in the next major version.\n   * Components now import their own `Link` directly from `next/link`.\n   */\n  Link?: React.ComponentType\n  navGroups?: ReturnType<typeof groupNavItems>\n} & AdminViewServerPropsOnly\n\nexport type DashboardViewServerProps = DashboardViewClientProps & DashboardViewServerPropsOnly\n\nexport function DefaultDashboard(props: DashboardViewServerProps) {\n  const {\n    globalData,\n    i18n,\n    i18n: { t },\n    locale,\n    navGroups,\n    params,\n    payload: {\n      config: {\n        admin: {\n          components: { afterDashboard, beforeDashboard },\n        },\n        routes: { admin: adminRoute },\n      },\n    },\n    payload,\n    permissions,\n    searchParams,\n    user,\n  } = props\n\n  return (\n    <div className={baseClass}>\n      <Gutter className={`${baseClass}__wrap`}>\n        {beforeDashboard &&\n          RenderServerComponent({\n            Component: beforeDashboard,\n            importMap: payload.importMap,\n            serverProps: {\n              i18n,\n              locale,\n              params,\n              payload,\n              permissions,\n              searchParams,\n              user,\n            } satisfies ServerProps,\n          })}\n\n        <Fragment>\n          {!navGroups || navGroups?.length === 0 ? (\n            <p>no nav groups....</p>\n          ) : (\n            navGroups.map(({ entities, label }, groupIndex) => {\n              return (\n                <div className={`${baseClass}__group`} key={groupIndex}>\n                  <h2 className={`${baseClass}__label`}>{label}</h2>\n                  <ul className={`${baseClass}__card-list`}>\n                    {entities.map(({ slug, type, label }, entityIndex) => {\n                      let title: string\n                      let buttonAriaLabel: string\n                      let createHREF: string\n                      let href: string\n                      let hasCreatePermission: boolean\n                      let isLocked = null\n                      let userEditing = null\n\n                      if (type === EntityType.collection) {\n                        title = getTranslation(label, i18n)\n\n                        buttonAriaLabel = t('general:showAllLabel', { label: title })\n\n                        href = formatAdminURL({ adminRoute, path: `/collections/${slug}` })\n\n                        createHREF = formatAdminURL({\n                          adminRoute,\n                          path: `/collections/${slug}/create`,\n                        })\n\n                        hasCreatePermission = permissions?.collections?.[slug]?.create\n                      }\n\n                      if (type === EntityType.global) {\n                        title = getTranslation(label, i18n)\n\n                        buttonAriaLabel = t('general:editLabel', {\n                          label: getTranslation(label, i18n),\n                        })\n\n                        href = formatAdminURL({\n                          adminRoute,\n                          path: `/globals/${slug}`,\n                        })\n\n                        // Find the lock status for the global\n                        const globalLockData = globalData.find((global) => global.slug === slug)\n                        if (globalLockData) {\n                          isLocked = globalLockData.data._isLocked\n                          userEditing = globalLockData.data._userEditing\n\n                          // Check if the lock is expired\n                          const lockDuration = globalLockData?.lockDuration\n                          const lastEditedAt = new Date(\n                            globalLockData.data?._lastEditedAt,\n                          ).getTime()\n\n                          const lockDurationInMilliseconds = lockDuration * 1000\n                          const lockExpirationTime = lastEditedAt + lockDurationInMilliseconds\n\n                          if (new Date().getTime() > lockExpirationTime) {\n                            isLocked = false\n                            userEditing = null\n                          }\n                        }\n                      }\n\n                      return (\n                        <li key={entityIndex}>\n                          <Card\n                            actions={\n                              isLocked && user?.id !== userEditing?.id ? (\n                                <Locked className={`${baseClass}__locked`} user={userEditing} />\n                              ) : hasCreatePermission && type === EntityType.collection ? (\n                                <Button\n                                  aria-label={t('general:createNewLabel', {\n                                    label,\n                                  })}\n                                  buttonStyle=\"icon-label\"\n                                  el=\"link\"\n                                  icon=\"plus\"\n                                  iconStyle=\"with-border\"\n                                  round\n                                  to={createHREF}\n                                />\n                              ) : undefined\n                            }\n                            buttonAriaLabel={buttonAriaLabel}\n                            href={href}\n                            id={`card-${slug}`}\n                            title={getTranslation(label, i18n)}\n                            titleAs=\"h3\"\n                          />\n                        </li>\n                      )\n                    })}\n                  </ul>\n                </div>\n              )\n            })\n          )}\n        </Fragment>\n        {afterDashboard &&\n          RenderServerComponent({\n            Component: afterDashboard,\n            importMap: payload.importMap,\n            serverProps: {\n              i18n,\n              locale,\n              params,\n              payload,\n              permissions,\n              searchParams,\n              user,\n            } satisfies ServerProps,\n          })}\n      </Gutter>\n    </div>\n  )\n}\n"],"names":["getTranslation","Button","Card","Gutter","Locked","RenderServerComponent","EntityType","formatAdminURL","React","Fragment","baseClass","DefaultDashboard","props","globalData","i18n","t","locale","navGroups","params","payload","config","admin","components","afterDashboard","beforeDashboard","routes","adminRoute","permissions","searchParams","user","_jsx","className","_jsxs","Component","importMap","serverProps","length","map","entities","label","groupIndex","slug","type","entityIndex","title","buttonAriaLabel","createHREF","href","hasCreatePermission","isLocked","userEditing","collection","path","collections","create","global","globalLockData","find","data","_isLocked","_userEditing","lockDuration","lastEditedAt","Date","_lastEditedAt","getTime","lockDurationInMilliseconds","lockExpirationTime","actions","id","buttonStyle","el","icon","iconStyle","round","to","undefined","titleAs"],"mappings":";;;;;AAGA,SAASA,cAAc,QAAQ;AAC/B,SAASC,MAAM,EAAEC,IAAI,EAAEC,MAAM,EAAEC,MAAM,QAAQ;AAC7C,SAASC,qBAAqB,QAAQ;AACtC,SAASC,UAAU,QAAQ;AAC3B,SAASC,cAAc,QAAQ;AAC/B,OAAOC,KAAA,IAASC,QAAQ,QAAQ;;;;;;;;;;;;;;AAIhC,MAAMC,SAAA,GAAY;AAuBX,SAASC,iBAAiBC,KAA+B;IAC9D,MAAM,EACJC,UAAU,EACVC,IAAI,EACJA,IAAA,EAAM,EAAEC,CAAAA,EAAG,EACXC,MAAM,EACNC,SAAS,EACTC,MAAM,EACNC,OAAA,EAAS,EACPC,MAAA,EAAQ,EACNC,KAAA,EAAO,EACLC,UAAA,EAAY,EAAEC,cAAc,EAAEC,eAAAA,EAAe,EAC9C,EACDC,MAAA,EAAQ,EAAEJ,KAAA,EAAOK,UAAAA,EAAU,EAAE,EAEhC,EACDP,OAAO,EACPQ,WAAW,EACXC,YAAY,EACZC,IAAAA,EACD,GAAGjB,KAAA;IAEJ,OAAA,WAAA,OACEkB,qOAAA,EAAC,OAAA;QAAIC,SAAA,EAAWrB,SAAA;kBACd,WAAA,OAAAsB,sOAAA,EAAC7B,yLAAA,EAAA;YAAO4B,SAAA,EAAW,GAAGrB,SAAA,CAAA,MAAA,CAAiB;;gBACpCc,eAAA,QACCnB,wNAAA,EAAsB;oBACpB4B,SAAA,EAAWT,eAAA;oBACXU,SAAA,EAAWf,OAAA,CAAQe,SAAS;oBAC5BC,WAAA,EAAa;wBACXrB,IAAA;wBACAE,MAAA;wBACAE,MAAA;wBACAC,OAAA;wBACAQ,WAAA;wBACAC,YAAA;wBACAC;oBACF;gBACF;gB,W,OAEFC,qOAAA,EAACrB,wNAAA,EAAA;8BACE,CAACQ,SAAA,IAAaA,SAAA,EAAWmB,MAAA,KAAW,IAAA,WAAA,OACnCN,qOAAA,EAAC,KAAA;kCAAE;yBAEHb,SAAA,CAAUoB,GAAG,CAAC,CAAC,EAAEC,QAAQ,EAAEC,KAAAA,EAAO,EAAEC,UAAA;wBAClC,OAAA,WAAA,OACER,sOAAA,EAAC,OAAA;4BAAID,SAAA,EAAW,GAAGrB,SAAA,CAAA,OAAA,CAAkB;;kDACnCoB,qOAAA,EAAC,MAAA;oCAAGC,SAAA,EAAW,GAAGrB,SAAA,CAAA,OAAA,CAAkB;8CAAG6B;;kDACvCT,qOAAA,EAAC,MAAA;oCAAGC,SAAA,EAAW,GAAGrB,SAAA,CAAA,WAAA,CAAsB;8CACrC4B,QAAA,CAASD,GAAG,CAAC,CAAC,EAAEI,IAAI,EAAEC,IAAI,EAAEH,KAAAA,EAAO,EAAEI,WAAA;wCACpC,IAAIC,KAAA;wCACJ,IAAIC,eAAA;wCACJ,IAAIC,UAAA;wCACJ,IAAIC,IAAA;wCACJ,IAAIC,mBAAA;wCACJ,IAAIC,QAAA,GAAW;wCACf,IAAIC,WAAA,GAAc;wCAElB,IAAIR,IAAA,KAASpC,6MAAA,CAAW6C,UAAU,EAAE;4CAClCP,KAAA,OAAQ5C,4MAAA,EAAeuC,KAAA,EAAOzB,IAAA;4CAE9B+B,eAAA,GAAkB9B,CAAA,CAAE,wBAAwB;gDAAEwB,KAAA,EAAOK;4CAAM;4CAE3DG,IAAA,OAAOxC,oJAAA,EAAe;gDAAEmB,UAAA;gDAAY0B,IAAA,EAAM,CAAA,aAAA,EAAgBX,IAAA,EAAA;4CAAO;4CAEjEK,UAAA,OAAavC,oJAAA,EAAe;gDAC1BmB,UAAA;gDACA0B,IAAA,EAAM,CAAA,aAAA,EAAgBX,IAAA,CAAA,OAAA,CAAA;4CACxB;4CAEAO,mBAAA,GAAsBrB,WAAA,EAAa0B,WAAA,EAAA,CAAcZ,IAAA,CAAK,EAAEa,MAAA;wCAC1D;wCAEA,IAAIZ,IAAA,KAASpC,6MAAA,CAAWiD,MAAM,EAAE;4CAC9BX,KAAA,OAAQ5C,4MAAA,EAAeuC,KAAA,EAAOzB,IAAA;4CAE9B+B,eAAA,GAAkB9B,CAAA,CAAE,qBAAqB;gDACvCwB,KAAA,MAAOvC,4MAAA,EAAeuC,KAAA,EAAOzB,IAAA;4CAC/B;4CAEAiC,IAAA,OAAOxC,oJAAA,EAAe;gDACpBmB,UAAA;gDACA0B,IAAA,EAAM,CAAA,SAAA,EAAYX,IAAA,EAAA;4CACpB;4CAEA,sCAAA;4CACA,MAAMe,cAAA,GAAiB3C,UAAA,CAAW4C,IAAI,EAAEF,MAAA,GAAWA,MAAA,CAAOd,IAAI,KAAKA,IAAA;4CACnE,IAAIe,cAAA,EAAgB;gDAClBP,QAAA,GAAWO,cAAA,CAAeE,IAAI,CAACC,SAAS;gDACxCT,WAAA,GAAcM,cAAA,CAAeE,IAAI,CAACE,YAAY;gDAE9C,+BAAA;gDACA,MAAMC,YAAA,GAAeL,cAAA,EAAgBK,YAAA;gDACrC,MAAMC,YAAA,GAAe,IAAIC,IAAA,CACvBP,cAAA,CAAeE,IAAI,EAAEM,aAAA,EACrBC,OAAO;gDAET,MAAMC,0BAAA,GAA6BL,YAAA,GAAe;gDAClD,MAAMM,kBAAA,GAAqBL,YAAA,GAAeI,0BAAA;gDAE1C,IAAI,IAAIH,IAAA,GAAOE,OAAO,KAAKE,kBAAA,EAAoB;oDAC7ClB,QAAA,GAAW;oDACXC,WAAA,GAAc;gDAChB;4CACF;wCACF;wCAEA,OAAA,WAAA,OACEpB,qOAAA,EAAC,MAAA;sDACC,WAAA,OAAAA,qOAAA,EAAC5B,uLAAA,EAAA;gDACCkE,OAAA,EACEnB,QAAA,IAAYpB,IAAA,EAAMwC,EAAA,KAAOnB,WAAA,EAAamB,EAAA,GAAA,WAAA,OACpCvC,qOAAA,EAAC1B,yLAAA,EAAA;oDAAO2B,SAAA,EAAW,GAAGrB,SAAA,CAAA,QAAA,CAAmB;oDAAEmB,IAAA,EAAMqB;qDAC/CF,mBAAA,IAAuBN,IAAA,KAASpC,6MAAA,CAAW6C,UAAU,GAAA,WAAA,OACvDrB,qOAAA,EAAC7B,yLAAA,EAAA;oDACC,cAAYc,CAAA,CAAE,0BAA0B;wDACtCwB;oDACF;oDACA+B,WAAA,EAAY;oDACZC,EAAA,EAAG;oDACHC,IAAA,EAAK;oDACLC,SAAA,EAAU;oDACVC,KAAK,EAAA;oDACLC,EAAA,EAAI7B;qDAEJ8B,SAAA;gDAEN/B,eAAA,EAAiBA,eAAA;gDACjBE,IAAA,EAAMA,IAAA;gDACNsB,EAAA,EAAI,CAAA,KAAA,EAAQ5B,IAAA,EAAM;gDAClBG,KAAA,MAAO5C,4MAAA,EAAeuC,KAAA,EAAOzB,IAAA;gDAC7B+D,OAAA,EAAQ;;2CAvBHlC,WAAA;oCA2Bb;;;2BAzFwCH,UAAA;oBA6FhD;;gBAGHjB,cAAA,QACClB,wNAAA,EAAsB;oBACpB4B,SAAA,EAAWV,cAAA;oBACXW,SAAA,EAAWf,OAAA,CAAQe,SAAS;oBAC5BC,WAAA,EAAa;wBACXrB,IAAA;wBACAE,MAAA;wBACAE,MAAA;wBACAC,OAAA;wBACAQ,WAAA;wBACAC,YAAA;wBACAC;oBACF;gBACF;aAAA;;;AAIV","ignoreList":[]}},
    {"offset": {"line": 1296, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Dashboard/index.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Dashboard/index.tsx"],"sourcesContent":["import type { EntityToGroup } from '@payloadcms/ui/shared'\nimport type { AdminViewServerProps, TypedUser } from 'payload'\n\nimport { HydrateAuthProvider, SetStepNav } from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { EntityType, groupNavItems } from '@payloadcms/ui/shared'\nimport React, { Fragment } from 'react'\n\nimport type { DashboardViewClientProps, DashboardViewServerPropsOnly } from './Default/index.js'\n\nimport { DefaultDashboard } from './Default/index.js'\n\nconst globalLockDurationDefault = 300\n\nexport async function DashboardView(props: AdminViewServerProps) {\n  const {\n    locale,\n    permissions,\n    req: {\n      i18n,\n      payload: { config },\n      payload,\n      user,\n    },\n    req,\n    visibleEntities,\n  } = props.initPageResult\n  const collections = config.collections.filter(\n    (collection) =>\n      permissions?.collections?.[collection.slug]?.read &&\n      visibleEntities.collections.includes(collection.slug),\n  )\n\n  const globals = config.globals.filter(\n    (global) =>\n      permissions?.globals?.[global.slug]?.read && visibleEntities.globals.includes(global.slug),\n  )\n\n  // Query locked global documents only if there are globals in the config\n  let globalData: DashboardViewServerPropsOnly['globalData'] = []\n\n  if (config.globals.length > 0) {\n    const lockedDocuments = await payload.find({\n      collection: 'payload-locked-documents',\n      depth: 1,\n      overrideAccess: false,\n      pagination: false,\n      req,\n      select: {\n        globalSlug: true,\n        updatedAt: true,\n        user: true,\n      },\n      where: {\n        globalSlug: {\n          exists: true,\n        },\n      },\n    })\n\n    // Map over globals to include `lockDuration` and lock data for each global slug\n    globalData = config.globals.map((global) => {\n      const lockDuration =\n        typeof global.lockDocuments === 'object'\n          ? global.lockDocuments.duration\n          : globalLockDurationDefault\n\n      const lockedDoc = lockedDocuments.docs.find((doc) => doc.globalSlug === global.slug)\n\n      return {\n        slug: global.slug,\n        data: {\n          _isLocked: !!lockedDoc,\n          _lastEditedAt: (lockedDoc?.updatedAt as string) ?? null,\n          _userEditing: (lockedDoc?.user as { value?: TypedUser })?.value ?? null,\n        },\n        lockDuration,\n      }\n    })\n  }\n\n  const navGroups = groupNavItems(\n    [\n      ...(collections.map((collection) => {\n        const entityToGroup: EntityToGroup = {\n          type: EntityType.collection,\n          entity: collection,\n        }\n\n        return entityToGroup\n      }) ?? []),\n      ...(globals.map((global) => {\n        const entityToGroup: EntityToGroup = {\n          type: EntityType.global,\n          entity: global,\n        }\n\n        return entityToGroup\n      }) ?? []),\n    ],\n    permissions,\n    i18n,\n  )\n\n  return (\n    <Fragment>\n      <HydrateAuthProvider permissions={permissions} />\n      <SetStepNav nav={[]} />\n      {RenderServerComponent({\n        clientProps: {\n          locale,\n        } satisfies DashboardViewClientProps,\n        Component: config.admin?.components?.views?.dashboard?.Component,\n        Fallback: DefaultDashboard,\n        importMap: payload.importMap,\n        serverProps: {\n          ...props,\n          globalData,\n          i18n,\n          locale,\n          navGroups,\n          payload,\n          permissions,\n          user,\n          visibleEntities,\n        } satisfies DashboardViewServerPropsOnly,\n      })}\n    </Fragment>\n  )\n}\n"],"names":["HydrateAuthProvider","SetStepNav","RenderServerComponent","EntityType","groupNavItems","React","Fragment","DefaultDashboard","globalLockDurationDefault","DashboardView","props","locale","permissions","req","i18n","payload","config","user","visibleEntities","initPageResult","collections","filter","collection","slug","read","includes","globals","global","globalData","length","lockedDocuments","find","depth","overrideAccess","pagination","select","globalSlug","updatedAt","where","exists","map","lockDuration","lockDocuments","duration","lockedDoc","docs","doc","data","_isLocked","_lastEditedAt","_userEditing","value","navGroups","entityToGroup","type","entity","_jsxs","_jsx","nav","clientProps","Component","admin","components","views","dashboard","Fallback","importMap","serverProps"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1409, "column": 0}, "map": {"version":3,"sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/dist/views/ForgotPassword/ForgotPasswordForm/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ForgotPasswordForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call ForgotPasswordForm() from the server but ForgotPasswordForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cms/node_modules/@payloadcms/next/dist/views/ForgotPassword/ForgotPasswordForm/index.js <module evaluation>\",\n    \"ForgotPasswordForm\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,qBAAqB,IAAA,+QAAuB,EACrD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,yHACA","ignoreList":[0]}},
    {"offset": {"line": 1423, "column": 0}, "map": {"version":3,"sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/dist/views/ForgotPassword/ForgotPasswordForm/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ForgotPasswordForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call ForgotPasswordForm() from the server but ForgotPasswordForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cms/node_modules/@payloadcms/next/dist/views/ForgotPassword/ForgotPasswordForm/index.js\",\n    \"ForgotPasswordForm\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,qBAAqB,IAAA,+QAAuB,EACrD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,qGACA","ignoreList":[0]}},
    {"offset": {"line": 1437, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/ForgotPassword/ForgotPasswordForm/index.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/ForgotPassword/ForgotPasswordForm/index.tsx"],"sourcesContent":["'use client'\n\nimport type { FormProps } from '@payloadcms/ui'\nimport type { FormState, PayloadRequest } from 'payload'\n\nimport { EmailField, Form, FormSubmit, TextField, useConfig, useTranslation } from '@payloadcms/ui'\nimport { email, text } from 'payload/shared'\nimport React, { useState } from 'react'\n\nimport { FormHeader } from '../../../elements/FormHeader/index.js'\n\nexport const ForgotPasswordForm: React.FC = () => {\n  const { config, getEntityConfig } = useConfig()\n\n  const {\n    admin: { user: userSlug },\n    routes: { api },\n  } = config\n\n  const { t } = useTranslation()\n  const [hasSubmitted, setHasSubmitted] = useState(false)\n  const collectionConfig = getEntityConfig({ collectionSlug: userSlug })\n  const loginWithUsername = collectionConfig?.auth?.loginWithUsername\n\n  const handleResponse: FormProps['handleResponse'] = (res, successToast, errorToast) => {\n    res\n      .json()\n      .then(() => {\n        setHasSubmitted(true)\n        successToast(t('general:submissionSuccessful'))\n      })\n      .catch(() => {\n        errorToast(\n          loginWithUsername\n            ? t('authentication:usernameNotValid')\n            : t('authentication:emailNotValid'),\n        )\n      })\n  }\n\n  const initialState: FormState = loginWithUsername\n    ? {\n        username: {\n          initialValue: '',\n          valid: true,\n          value: undefined,\n        },\n      }\n    : {\n        email: {\n          initialValue: '',\n          valid: true,\n          value: undefined,\n        },\n      }\n\n  if (hasSubmitted) {\n    return (\n      <FormHeader\n        description={t('authentication:checkYourEmailForPasswordReset')}\n        heading={t('authentication:emailSent')}\n      />\n    )\n  }\n\n  return (\n    <Form\n      action={`${api}/${userSlug}/forgot-password`}\n      handleResponse={handleResponse}\n      initialState={initialState}\n      method=\"POST\"\n    >\n      <FormHeader\n        description={\n          loginWithUsername\n            ? t('authentication:forgotPasswordUsernameInstructions')\n            : t('authentication:forgotPasswordEmailInstructions')\n        }\n        heading={t('authentication:forgotPassword')}\n      />\n\n      {loginWithUsername ? (\n        <TextField\n          field={{\n            name: 'username',\n            label: t('authentication:username'),\n            required: true,\n          }}\n          path=\"username\"\n          validate={(value) =>\n            text(value, {\n              name: 'username',\n              type: 'text',\n              blockData: {},\n              data: {},\n              event: 'onChange',\n              path: ['username'],\n              preferences: { fields: {} },\n              req: {\n                payload: {\n                  config,\n                },\n                t,\n              } as unknown as PayloadRequest,\n              required: true,\n              siblingData: {},\n            })\n          }\n        />\n      ) : (\n        <EmailField\n          field={{\n            name: 'email',\n            admin: {\n              autoComplete: 'email',\n            },\n            label: t('general:email'),\n            required: true,\n          }}\n          path=\"email\"\n          validate={(value) =>\n            email(value, {\n              name: 'email',\n              type: 'email',\n              blockData: {},\n              data: {},\n              event: 'onChange',\n              path: ['email'],\n              preferences: { fields: {} },\n              req: { payload: { config }, t } as unknown as PayloadRequest,\n              required: true,\n              siblingData: {},\n            })\n          }\n        />\n      )}\n      <FormSubmit size=\"large\">{t('general:submit')}</FormSubmit>\n    </Form>\n  )\n}\n"],"names":["c","_c","EmailField","Form","FormSubmit","TextField","useConfig","useTranslation","email","text","React","useState","FormHeader","ForgotPasswordForm","$","config","getEntityConfig","admin","t0","routes","t1","user","userSlug","api","t","hasSubmitted","setHasSubmitted","t2","collectionSlug","collectionConfig","loginWithUsername","auth","t3","res","successToast","errorToast","json","then","catch","handleResponse","t4","t5","Symbol","for","initialState","username","initialValue","valid","value","undefined","t6","_jsx","description","heading","_jsxs","action","method","children","field","name","label","required","path","validate","type","blockData","data","event","preferences","fields","req","payload","siblingData","autoComplete","value_0","size"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 1447, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/ForgotPassword/index.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/ForgotPassword/index.tsx"],"sourcesContent":["import type { AdminViewServerProps } from 'payload'\n\nimport { Button, Link } from '@payloadcms/ui'\nimport { Translation } from '@payloadcms/ui/shared'\nimport { formatAdminURL } from 'payload/shared'\nimport React, { Fragment } from 'react'\n\nimport { FormHeader } from '../../elements/FormHeader/index.js'\nimport { ForgotPasswordForm } from './ForgotPasswordForm/index.js'\n\nexport const forgotPasswordBaseClass = 'forgot-password'\n\nexport function ForgotPasswordView({ initPageResult }: AdminViewServerProps) {\n  const {\n    req: {\n      i18n,\n      payload: { config },\n      user,\n    },\n  } = initPageResult\n\n  const {\n    admin: {\n      routes: { account: accountRoute, login: loginRoute },\n    },\n    routes: { admin: adminRoute },\n  } = config\n\n  if (user) {\n    return (\n      <Fragment>\n        <FormHeader\n          description={\n            <Translation\n              elements={{\n                '0': ({ children }) => (\n                  <Link\n                    href={formatAdminURL({\n                      adminRoute,\n                      path: accountRoute,\n                    })}\n                    prefetch={false}\n                  >\n                    {children}\n                  </Link>\n                ),\n              }}\n              i18nKey=\"authentication:loggedInChangePassword\"\n              t={i18n.t}\n            />\n          }\n          heading={i18n.t('authentication:alreadyLoggedIn')}\n        />\n        <Button buttonStyle=\"secondary\" el=\"link\" size=\"large\" to={adminRoute}>\n          {i18n.t('general:backToDashboard')}\n        </Button>\n      </Fragment>\n    )\n  }\n\n  return (\n    <Fragment>\n      <ForgotPasswordForm />\n      <Link\n        href={formatAdminURL({\n          adminRoute,\n          path: loginRoute,\n        })}\n        prefetch={false}\n      >\n        {i18n.t('authentication:backToLogin')}\n      </Link>\n    </Fragment>\n  )\n}\n"],"names":["Button","Link","Translation","formatAdminURL","React","Fragment","FormHeader","ForgotPasswordForm","forgotPasswordBaseClass","ForgotPasswordView","initPageResult","req","i18n","payload","config","user","admin","routes","account","accountRoute","login","loginRoute","adminRoute","_jsxs","_jsx","description","elements","0","children","href","path","prefetch","i18nKey","t","heading","buttonStyle","el","size","to"],"mappings":";;;;;;;AAEA,SAASA,MAAM,EAAEC,IAAI,QAAQ;AAC7B,SAASC,WAAW,QAAQ;AAC5B,SAASC,cAAc,QAAQ;AAC/B,OAAOC,KAAA,IAASC,QAAQ,QAAQ;AAEhC,SAASC,UAAU,QAAQ;AAC3B,SAASC,kBAAkB,QAAQ;;;;;;;;;;;;;AAE5B,MAAMC,uBAAA,GAA0B;AAEhC,SAASC,mBAAmB,EAAEC,cAAAA,EAAsC;IACzE,MAAM,EACJC,GAAA,EAAK,EACHC,IAAI,EACJC,OAAA,EAAS,EAAEC,MAAAA,EAAQ,EACnBC,IAAAA,EAAI,EAEP,GAAGL,cAAA;IAEJ,MAAM,EACJM,KAAA,EAAO,EACLC,MAAA,EAAQ,EAAEC,OAAA,EAASC,YAAY,EAAEC,KAAA,EAAOC,UAAAA,EAAU,EACnD,EACDJ,MAAA,EAAQ,EAAED,KAAA,EAAOM,UAAAA,EAAU,EAC5B,GAAGR,MAAA;IAEJ,IAAIC,IAAA,EAAM;QACR,OAAA,WAAA,OACEQ,sOAAA,EAAClB,wNAAA,EAAA;;kCACCmB,qOAAA,EAAClB,oMAAA,EAAA;oBACCmB,WAAA,EAAA,WAAA,OACED,qOAAA,EAACtB,8MAAA,EAAA;wBACCwB,QAAA,EAAU;4BACR,KAAKC,CAAC,EAAEC,QAAAA,EAAU,GAAA,WAAA,OAChBJ,qOAAA,EAACvB,uLAAA,EAAA;oCACC4B,IAAA,MAAM1B,oJAAA,EAAe;wCACnBmB,UAAA;wCACAQ,IAAA,EAAMX;oCACR;oCACAY,QAAA,EAAU;8CAETH;;wBAGP;wBACAI,OAAA,EAAQ;wBACRC,CAAA,EAAGrB,IAAA,CAAKqB,CAAAA;;oBAGZC,OAAA,EAAStB,IAAA,CAAKqB,CAAC,CAAC;;kCAElBT,qOAAA,EAACxB,yLAAA,EAAA;oBAAOmC,WAAA,EAAY;oBAAYC,EAAA,EAAG;oBAAOC,IAAA,EAAK;oBAAQC,EAAA,EAAIhB,UAAA;8BACxDV,IAAA,CAAKqB,CAAC,CAAC;;;;IAIhB;IAEA,OAAA,WAAA,OACEV,sOAAA,EAAClB,wNAAA,EAAA;;8BACCmB,qOAAA,EAACjB,mOAAA,EAAA,CAAA;Y,W,OACDiB,qOAAA,EAACvB,uLAAA,EAAA;gBACC4B,IAAA,MAAM1B,oJAAA,EAAe;oBACnBmB,UAAA;oBACAQ,IAAA,EAAMT;gBACR;gBACAU,QAAA,EAAU;0BAETnB,IAAA,CAAKqB,CAAC,CAAC;;;;AAIhB","ignoreList":[]}},
    {"offset": {"line": 1527, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/elements/Logo/index.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/elements/Logo/index.tsx"],"sourcesContent":["import type { ServerProps } from 'payload'\nimport type React from 'react'\n\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { PayloadLogo } from '@payloadcms/ui/shared'\n\nexport const Logo: React.FC<ServerProps> = (props) => {\n  const { i18n, locale, params, payload, permissions, searchParams, user } = props\n\n  const {\n    admin: {\n      components: {\n        graphics: { Logo: CustomLogo } = {\n          Logo: undefined,\n        },\n      } = {},\n    } = {},\n  } = payload.config\n\n  return RenderServerComponent({\n    Component: CustomLogo,\n    Fallback: PayloadLogo,\n    importMap: payload.importMap,\n    serverProps: {\n      i18n,\n      locale,\n      params,\n      payload,\n      permissions,\n      searchParams,\n      user,\n    },\n  })\n}\n"],"names":["RenderServerComponent","PayloadLogo","Logo","props","i18n","locale","params","payload","permissions","searchParams","user","admin","components","graphics","CustomLogo","undefined","config","Component","Fallback","importMap","serverProps"],"mappings":";;;;AAGA,SAASA,qBAAqB,QAAQ;AACtC,SAASC,WAAW,QAAQ;;;;;;;;AAErB,MAAMC,IAAA,IAA+BC,KAAA;IAC1C,MAAM,EAAEC,IAAI,EAAEC,MAAM,EAAEC,MAAM,EAAEC,OAAO,EAAEC,WAAW,EAAEC,YAAY,EAAEC,IAAAA,EAAM,GAAGP,KAAA;IAE3E,MAAM,EACJQ,KAAA,EAAO,EACLC,UAAA,EAAY,EACVC,QAAA,EAAU,EAAEX,IAAA,EAAMY,UAAAA,EAAY,GAAG;QAC/BZ,IAAA,EAAMa;IACR,CAAA,EACD,GAAG,CAAC,CAAA,EACN,GAAG,CAAC,CAAA,EACN,GAAGR,OAAA,CAAQS,MAAM;IAElB,WAAOhB,wNAAA,EAAsB;QAC3BiB,SAAA,EAAWH,UAAA;QACXI,QAAA,EAAUjB,8MAAA;QACVkB,SAAA,EAAWZ,OAAA,CAAQY,SAAS;QAC5BC,WAAA,EAAa;YACXhB,IAAA;YACAC,MAAA;YACAC,MAAA;YACAC,OAAA;YACAC,WAAA;YACAC,YAAA;YACAC;QACF;IACF;AACF","ignoreList":[]}},
    {"offset": {"line": 1565, "column": 0}, "map": {"version":3,"sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/dist/views/Login/LoginForm/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LoginForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call LoginForm() from the server but LoginForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cms/node_modules/@payloadcms/next/dist/views/Login/LoginForm/index.js <module evaluation>\",\n    \"LoginForm\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,YAAY,IAAA,+QAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,uGACA","ignoreList":[0]}},
    {"offset": {"line": 1579, "column": 0}, "map": {"version":3,"sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/dist/views/Login/LoginForm/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LoginForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call LoginForm() from the server but LoginForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cms/node_modules/@payloadcms/next/dist/views/Login/LoginForm/index.js\",\n    \"LoginForm\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,YAAY,IAAA,+QAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,mFACA","ignoreList":[0]}},
    {"offset": {"line": 1593, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Login/LoginForm/index.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Login/LoginForm/index.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\n\nconst baseClass = 'login__form'\n\nimport type { UserWithToken } from '@payloadcms/ui'\nimport type { FormState } from 'payload'\n\nimport {\n  Form,\n  FormSubmit,\n  Link,\n  PasswordField,\n  useAuth,\n  useConfig,\n  useTranslation,\n} from '@payloadcms/ui'\nimport { formatAdminURL, getLoginOptions, getSafeRedirect } from 'payload/shared'\n\nimport type { LoginFieldProps } from '../LoginField/index.js'\n\nimport { LoginField } from '../LoginField/index.js'\nimport './index.scss'\n\nexport const LoginForm: React.FC<{\n  prefillEmail?: string\n  prefillPassword?: string\n  prefillUsername?: string\n  searchParams: { [key: string]: string | string[] | undefined }\n}> = ({ prefillEmail, prefillPassword, prefillUsername, searchParams }) => {\n  const { config, getEntityConfig } = useConfig()\n\n  const {\n    admin: {\n      routes: { forgot: forgotRoute },\n      user: userSlug,\n    },\n    routes: { admin: adminRoute, api: apiRoute },\n  } = config\n\n  const collectionConfig = getEntityConfig({ collectionSlug: userSlug })\n  const { auth: authOptions } = collectionConfig\n  const loginWithUsername = authOptions.loginWithUsername\n  const { canLoginWithEmail, canLoginWithUsername } = getLoginOptions(loginWithUsername)\n\n  const [loginType] = React.useState<LoginFieldProps['type']>(() => {\n    if (canLoginWithEmail && canLoginWithUsername) {\n      return 'emailOrUsername'\n    }\n    if (canLoginWithUsername) {\n      return 'username'\n    }\n    return 'email'\n  })\n\n  const { t } = useTranslation()\n  const { setUser } = useAuth()\n\n  const initialState: FormState = {\n    password: {\n      initialValue: prefillPassword ?? undefined,\n      valid: true,\n      value: prefillPassword ?? undefined,\n    },\n  }\n\n  if (loginWithUsername) {\n    initialState.username = {\n      initialValue: prefillUsername ?? undefined,\n      valid: true,\n      value: prefillUsername ?? undefined,\n    }\n  } else {\n    initialState.email = {\n      initialValue: prefillEmail ?? undefined,\n      valid: true,\n      value: prefillEmail ?? undefined,\n    }\n  }\n\n  const handleLogin = (data: UserWithToken) => {\n    setUser(data)\n  }\n\n  return (\n    <Form\n      action={`${apiRoute}/${userSlug}/login`}\n      className={baseClass}\n      disableSuccessStatus\n      initialState={initialState}\n      method=\"POST\"\n      onSuccess={handleLogin}\n      redirect={getSafeRedirect({ fallbackTo: adminRoute, redirectTo: searchParams?.redirect })}\n      waitForAutocomplete\n    >\n      <div className={`${baseClass}__inputWrap`}>\n        <LoginField type={loginType} />\n        <PasswordField\n          field={{\n            name: 'password',\n            label: t('general:password'),\n            required: true,\n          }}\n          path=\"password\"\n        />\n      </div>\n      <Link\n        href={formatAdminURL({\n          adminRoute,\n          path: forgotRoute,\n        })}\n        prefetch={false}\n      >\n        {t('authentication:forgotPasswordQuestion')}\n      </Link>\n      <FormSubmit size=\"large\">{t('authentication:login')}</FormSubmit>\n    </Form>\n  )\n}\n"],"names":["c","_c","React","baseClass","Form","FormSubmit","Link","PasswordField","useAuth","useConfig","useTranslation","formatAdminURL","getLoginOptions","getSafeRedirect","LoginField","LoginForm","t0","$","prefillEmail","prefillPassword","prefillUsername","searchParams","config","getEntityConfig","admin","t1","routes","t2","t3","user","userSlug","forgot","forgotRoute","adminRoute","api","apiRoute","loginWithUsername","t4","collectionConfig","collectionSlug","auth","authOptions","canLoginWithEmail","canLoginWithUsername","t5","loginType","useState","t","setUser","t6","undefined","t7","t8","redirect","initialState","password","initialValue","valid","value","username","email","t9","data","handleLogin","_jsxs","action","className","disableSuccessStatus","method","onSuccess","fallbackTo","redirectTo","waitForAutocomplete","children","_jsx","type","field","name","label","required","path","href","prefetch","size"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 1603, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Login/index.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Login/index.tsx"],"sourcesContent":["import type { AdminViewServerProps, ServerProps } from 'payload'\n\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { redirect } from 'next/navigation.js'\nimport { getSafeRedirect } from 'payload/shared'\nimport React, { Fragment } from 'react'\n\nimport { Logo } from '../../elements/Logo/index.js'\nimport { LoginForm } from './LoginForm/index.js'\nimport './index.scss'\nexport const loginBaseClass = 'login'\n\nexport function LoginView({ initPageResult, params, searchParams }: AdminViewServerProps) {\n  const { locale, permissions, req } = initPageResult\n\n  const {\n    i18n,\n    payload: { config },\n    payload,\n    user,\n  } = req\n\n  const {\n    admin: { components: { afterLogin, beforeLogin } = {}, user: userSlug },\n    routes: { admin },\n  } = config\n\n  const redirectUrl = getSafeRedirect({ fallbackTo: admin, redirectTo: searchParams.redirect })\n\n  if (user) {\n    redirect(redirectUrl)\n  }\n\n  const collectionConfig = payload?.collections?.[userSlug]?.config\n\n  const prefillAutoLogin =\n    typeof config.admin?.autoLogin === 'object' && config.admin?.autoLogin.prefillOnly\n\n  const prefillUsername =\n    prefillAutoLogin && typeof config.admin?.autoLogin === 'object'\n      ? config.admin?.autoLogin.username\n      : undefined\n\n  const prefillEmail =\n    prefillAutoLogin && typeof config.admin?.autoLogin === 'object'\n      ? config.admin?.autoLogin.email\n      : undefined\n\n  const prefillPassword =\n    prefillAutoLogin && typeof config.admin?.autoLogin === 'object'\n      ? config.admin?.autoLogin.password\n      : undefined\n\n  return (\n    <Fragment>\n      <div className={`${loginBaseClass}__brand`}>\n        <Logo\n          i18n={i18n}\n          locale={locale}\n          params={params}\n          payload={payload}\n          permissions={permissions}\n          searchParams={searchParams}\n          user={user}\n        />\n      </div>\n      {RenderServerComponent({\n        Component: beforeLogin,\n        importMap: payload.importMap,\n        serverProps: {\n          i18n,\n          locale,\n          params,\n          payload,\n          permissions,\n          searchParams,\n          user,\n        } satisfies ServerProps,\n      })}\n      {!collectionConfig?.auth?.disableLocalStrategy && (\n        <LoginForm\n          prefillEmail={prefillEmail}\n          prefillPassword={prefillPassword}\n          prefillUsername={prefillUsername}\n          searchParams={searchParams}\n        />\n      )}\n      {RenderServerComponent({\n        Component: afterLogin,\n        importMap: payload.importMap,\n        serverProps: {\n          i18n,\n          locale,\n          params,\n          payload,\n          permissions,\n          searchParams,\n          user,\n        } satisfies ServerProps,\n      })}\n    </Fragment>\n  )\n}\n"],"names":["RenderServerComponent","redirect","getSafeRedirect","React","Fragment","Logo","LoginForm","loginBaseClass","LoginView","initPageResult","params","searchParams","locale","permissions","req","i18n","payload","config","user","admin","components","afterLogin","beforeLogin","userSlug","routes","redirectUrl","fallbackTo","redirectTo","collectionConfig","collections","prefillAutoLogin","autoLogin","prefillOnly","prefillUsername","username","undefined","prefillEmail","email","prefillPassword","password","_jsxs","_jsx","className","Component","importMap","serverProps","auth","disableLocalStrategy"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1700, "column": 0}, "map": {"version":3,"sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/dist/views/Logout/LogoutClient.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LogoutClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call LogoutClient() from the server but LogoutClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cms/node_modules/@payloadcms/next/dist/views/Logout/LogoutClient.js <module evaluation>\",\n    \"LogoutClient\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,+QAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,qGACA","ignoreList":[0]}},
    {"offset": {"line": 1714, "column": 0}, "map": {"version":3,"sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/dist/views/Logout/LogoutClient.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LogoutClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call LogoutClient() from the server but LogoutClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cms/node_modules/@payloadcms/next/dist/views/Logout/LogoutClient.js\",\n    \"LogoutClient\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,+QAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,iFACA","ignoreList":[0]}},
    {"offset": {"line": 1728, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Logout/LogoutClient.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Logout/LogoutClient.tsx"],"sourcesContent":["'use client'\nimport {\n  Button,\n  LoadingOverlay,\n  toast,\n  useAuth,\n  useRouteTransition,\n  useTranslation,\n} from '@payloadcms/ui'\nimport { useRouter } from 'next/navigation.js'\nimport { formatAdminURL } from 'payload/shared'\nimport React, { useEffect } from 'react'\n\nimport './index.scss'\n\nconst baseClass = 'logout'\n\n/**\n * This component should **just** be the inactivity route and do nothing with logging the user out.\n *\n * It currently handles too much, the auth provider should just log the user out and then\n * we could remove the useEffect in this file. So instead of the logout button\n * being an anchor link, it should be a button that calls `logOut` in the provider.\n *\n * This view is still useful if cookies attempt to refresh and fail, i.e. the user\n * is logged out due to inactivity.\n */\nexport const LogoutClient: React.FC<{\n  adminRoute: string\n  inactivity?: boolean\n  redirect: string\n}> = (props) => {\n  const { adminRoute, inactivity, redirect } = props\n\n  const { logOut, user } = useAuth()\n\n  const { startRouteTransition } = useRouteTransition()\n\n  const isLoggedIn = React.useMemo(() => {\n    return Boolean(user?.id)\n  }, [user?.id])\n\n  const navigatingToLoginRef = React.useRef(false)\n\n  const [loginRoute] = React.useState(() =>\n    formatAdminURL({\n      adminRoute,\n      path: `/login${inactivity && redirect && redirect.length > 0\n          ? `?redirect=${encodeURIComponent(redirect)}`\n          : ''\n        }`,\n    }),\n  )\n\n  const { t } = useTranslation()\n  const router = useRouter()\n\n  const handleLogOut = React.useCallback(async () => {\n    if (!navigatingToLoginRef.current) {\n      navigatingToLoginRef.current = true\n      await logOut()\n      toast.success(t('authentication:loggedOutSuccessfully'))\n      startRouteTransition(() => router.push(loginRoute))\n      return\n    }\n  }, [logOut, loginRoute, router, startRouteTransition, t])\n\n  useEffect(() => {\n    if (isLoggedIn && !inactivity) {\n      void handleLogOut()\n    } else if (!navigatingToLoginRef.current) {\n      navigatingToLoginRef.current = true\n      startRouteTransition(() => router.push(loginRoute))\n    }\n  }, [handleLogOut, isLoggedIn, loginRoute, router, startRouteTransition, inactivity])\n\n  if (!isLoggedIn && inactivity) {\n    return (\n      <div className={`${baseClass}__wrap`}>\n        <h2>{t('authentication:loggedOutInactivity')}</h2>\n        <Button buttonStyle=\"secondary\" el=\"link\" size=\"large\" url={loginRoute}>\n          {t('authentication:logBackIn')}\n        </Button>\n      </div>\n    )\n  }\n\n  return <LoadingOverlay animationDuration={'0ms'} loadingText={t('authentication:loggingOut')} />\n}\n"],"names":["c","_c","Button","LoadingOverlay","toast","useAuth","useRouteTransition","useTranslation","useRouter","formatAdminURL","React","useEffect","baseClass","LogoutClient","props","$","adminRoute","inactivity","redirect","logOut","user","startRouteTransition","id","isLoggedIn","Boolean","navigatingToLoginRef","useRef","t0","path","length","encodeURIComponent","loginRoute","useState","t","router","t1","current","success","push","handleLogOut","t2","t3","t4","_jsxs","className","children","_jsx","buttonStyle","el","size","url","animationDuration","loadingText"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 1736, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Logout/index.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Logout/index.tsx"],"sourcesContent":["import type { AdminViewServerProps } from 'payload'\n\nimport React from 'react'\n\nimport { LogoutClient } from './LogoutClient.js'\nimport './index.scss'\n\nconst baseClass = 'logout'\n\nexport const LogoutView: React.FC<\n  {\n    inactivity?: boolean\n  } & AdminViewServerProps\n> = ({ inactivity, initPageResult, searchParams }) => {\n  const {\n    req: {\n      payload: {\n        config: {\n          routes: { admin: adminRoute },\n        },\n      },\n    },\n  } = initPageResult\n\n  return (\n    <div className={`${baseClass}`}>\n      <LogoutClient\n        adminRoute={adminRoute}\n        inactivity={inactivity}\n        redirect={searchParams.redirect as string}\n      />\n    </div>\n  )\n}\n\nexport function LogoutInactivity(props: AdminViewServerProps) {\n  return <LogoutView inactivity {...props} />\n}\n"],"names":["React","LogoutClient","baseClass","LogoutView","inactivity","initPageResult","searchParams","req","payload","config","routes","admin","adminRoute","_jsx","className","redirect","LogoutInactivity","props"],"mappings":";;;;;;;AAEA,OAAOA,KAAA,MAAW;AAElB,SAASC,YAAY,QAAQ;;;;AAG7B,MAAMC,SAAA,GAAY;AAEX,MAAMC,UAAA,GAITA,CAAC,EAAEC,UAAU,EAAEC,cAAc,EAAEC,YAAAA,EAAc;IAC/C,MAAM,EACJC,GAAA,EAAK,EACHC,OAAA,EAAS,EACPC,MAAA,EAAQ,EACNC,MAAA,EAAQ,EAAEC,KAAA,EAAOC,UAAAA,EAAU,EAAE,EAC9B,EACF,EAEJ,GAAGP,cAAA;IAEJ,OAAA,WAAA,OACEQ,qOAAA,EAAC,OAAA;QAAIC,SAAA,EAAW,GAAGZ,SAAA,EAAW;kBAC5B,WAAA,OAAAW,qOAAA,EAACZ,sMAAA,EAAA;YACCW,UAAA,EAAYA,UAAA;YACZR,UAAA,EAAYA,UAAA;YACZW,QAAA,EAAUT,YAAA,CAAaS,QAAAA;;;AAI/B;AAEO,SAASC,iBAAiBC,KAA2B;IAC1D,OAAA,WAAA,OAAOJ,qOAAA,EAACV,UAAA,EAAA;QAAWC,UAAU,EAAA;QAAE,GAAGa,KAAAA;;AACpC","ignoreList":[]}},
    {"offset": {"line": 1770, "column": 0}, "map": {"version":3,"sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/dist/views/ResetPassword/ResetPasswordForm/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ResetPasswordForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call ResetPasswordForm() from the server but ResetPasswordForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cms/node_modules/@payloadcms/next/dist/views/ResetPassword/ResetPasswordForm/index.js <module evaluation>\",\n    \"ResetPasswordForm\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,oBAAoB,IAAA,+QAAuB,EACpD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,uHACA","ignoreList":[0]}},
    {"offset": {"line": 1784, "column": 0}, "map": {"version":3,"sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/dist/views/ResetPassword/ResetPasswordForm/index.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ResetPasswordForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call ResetPasswordForm() from the server but ResetPasswordForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cms/node_modules/@payloadcms/next/dist/views/ResetPassword/ResetPasswordForm/index.js\",\n    \"ResetPasswordForm\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,oBAAoB,IAAA,+QAAuB,EACpD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,mGACA","ignoreList":[0]}},
    {"offset": {"line": 1798, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/ResetPassword/ResetPasswordForm/index.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/ResetPassword/ResetPasswordForm/index.tsx"],"sourcesContent":["'use client'\nimport {\n  ConfirmPasswordField,\n  Form,\n  FormSubmit,\n  HiddenField,\n  PasswordField,\n  useAuth,\n  useConfig,\n  useTranslation,\n} from '@payloadcms/ui'\nimport { useRouter } from 'next/navigation.js'\nimport { type FormState } from 'payload'\nimport { formatAdminURL } from 'payload/shared'\nimport React from 'react'\n\ntype Args = {\n  readonly token: string\n}\n\nexport const ResetPasswordForm: React.FC<Args> = ({ token }) => {\n  const i18n = useTranslation()\n  const {\n    config: {\n      admin: {\n        routes: { login: loginRoute },\n        user: userSlug,\n      },\n      routes: { admin: adminRoute, api: apiRoute },\n      serverURL,\n    },\n  } = useConfig()\n\n  const history = useRouter()\n  const { fetchFullUser } = useAuth()\n\n  const onSuccess = React.useCallback(async () => {\n    const user = await fetchFullUser()\n    if (user) {\n      history.push(adminRoute)\n    } else {\n      history.push(\n        formatAdminURL({\n          adminRoute,\n          path: loginRoute,\n        }),\n      )\n    }\n  }, [adminRoute, fetchFullUser, history, loginRoute])\n\n  const initialState: FormState = {\n    'confirm-password': {\n      initialValue: '',\n      valid: false,\n      value: '',\n    },\n    password: {\n      initialValue: '',\n      valid: false,\n      value: '',\n    },\n    token: {\n      initialValue: token,\n      valid: true,\n      value: token,\n    },\n  }\n\n  return (\n    <Form\n      action={`${serverURL}${apiRoute}/${userSlug}/reset-password`}\n      initialState={initialState}\n      method=\"POST\"\n      onSuccess={onSuccess}\n    >\n      <div className=\"inputWrap\">\n        <PasswordField\n          field={{\n            name: 'password',\n            label: i18n.t('authentication:newPassword'),\n            required: true,\n          }}\n          path=\"password\"\n          schemaPath={`${userSlug}.password`}\n        />\n        <ConfirmPasswordField />\n        <HiddenField path=\"token\" schemaPath={`${userSlug}.token`} value={token} />\n      </div>\n      <FormSubmit size=\"large\">{i18n.t('authentication:resetPassword')}</FormSubmit>\n    </Form>\n  )\n}\n"],"names":["c","_c","ConfirmPasswordField","Form","FormSubmit","HiddenField","PasswordField","useAuth","useConfig","useTranslation","useRouter","formatAdminURL","React","ResetPasswordForm","t0","$","token","i18n","config","t1","admin","t2","routes","t3","serverURL","t4","user","userSlug","login","loginRoute","adminRoute","api","apiRoute","history","fetchFullUser","t5","push","path","onSuccess","t6","initialState","initialValue","valid","value","password","_jsxs","action","method","children","className","_jsx","field","name","label","t","required","schemaPath","size"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 1808, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/ResetPassword/index.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/ResetPassword/index.tsx"],"sourcesContent":["import type { AdminViewServerProps } from 'payload'\n\nimport { Button, Link } from '@payloadcms/ui'\nimport { Translation } from '@payloadcms/ui/shared'\nimport { formatAdminURL } from 'payload/shared'\nimport React from 'react'\n\nimport { FormHeader } from '../../elements/FormHeader/index.js'\nimport { ResetPasswordForm } from './ResetPasswordForm/index.js'\nimport './index.scss'\n\nexport const resetPasswordBaseClass = 'reset-password'\n\nexport function ResetPassword({ initPageResult, params }: AdminViewServerProps) {\n  const { req } = initPageResult\n\n  const {\n    segments: [_, token],\n  } = params\n\n  const {\n    i18n,\n    payload: { config },\n    user,\n  } = req\n\n  const {\n    admin: {\n      routes: { account: accountRoute, login: loginRoute },\n    },\n    routes: { admin: adminRoute },\n  } = config\n\n  if (user) {\n    return (\n      <div className={`${resetPasswordBaseClass}__wrap`}>\n        <FormHeader\n          description={\n            <Translation\n              elements={{\n                '0': ({ children }) => (\n                  <Link\n                    href={formatAdminURL({\n                      adminRoute,\n                      path: accountRoute,\n                    })}\n                    prefetch={false}\n                  >\n                    {children}\n                  </Link>\n                ),\n              }}\n              i18nKey=\"authentication:loggedInChangePassword\"\n              t={i18n.t}\n            />\n          }\n          heading={i18n.t('authentication:alreadyLoggedIn')}\n        />\n        <Button buttonStyle=\"secondary\" el=\"link\" size=\"large\" to={adminRoute}>\n          {i18n.t('general:backToDashboard')}\n        </Button>\n      </div>\n    )\n  }\n\n  return (\n    <div className={`${resetPasswordBaseClass}__wrap`}>\n      <FormHeader heading={i18n.t('authentication:resetPassword')} />\n      <ResetPasswordForm token={token} />\n      <Link\n        href={formatAdminURL({\n          adminRoute,\n          path: loginRoute,\n        })}\n        prefetch={false}\n      >\n        {i18n.t('authentication:backToLogin')}\n      </Link>\n    </div>\n  )\n}\n"],"names":["Button","Link","Translation","formatAdminURL","React","FormHeader","ResetPasswordForm","resetPasswordBaseClass","ResetPassword","initPageResult","params","req","segments","_","token","i18n","payload","config","user","admin","routes","account","accountRoute","login","loginRoute","adminRoute","_jsxs","className","_jsx","description","elements","0","children","href","path","prefetch","i18nKey","t","heading","buttonStyle","el","size","to"],"mappings":";;;;;;;AAEA,SAASA,MAAM,EAAEC,IAAI,QAAQ;AAC7B,SAASC,WAAW,QAAQ;AAC5B,SAASC,cAAc,QAAQ;AAC/B,OAAOC,KAAA,MAAW;AAElB,SAASC,UAAU,QAAQ;AAC3B,SAASC,iBAAiB,QAAQ;;;;;;;;;;;;;AAG3B,MAAMC,sBAAA,GAAyB;AAE/B,SAASC,cAAc,EAAEC,cAAc,EAAEC,MAAAA,EAA8B;IAC5E,MAAM,EAAEC,GAAAA,EAAK,GAAGF,cAAA;IAEhB,MAAM,EACJG,QAAA,EAAU,CAACC,CAAA,EAAGC,KAAA,CAAA,EACf,GAAGJ,MAAA;IAEJ,MAAM,EACJK,IAAI,EACJC,OAAA,EAAS,EAAEC,MAAAA,EAAQ,EACnBC,IAAAA,EACD,GAAGP,GAAA;IAEJ,MAAM,EACJQ,KAAA,EAAO,EACLC,MAAA,EAAQ,EAAEC,OAAA,EAASC,YAAY,EAAEC,KAAA,EAAOC,UAAAA,EAAU,EACnD,EACDJ,MAAA,EAAQ,EAAED,KAAA,EAAOM,UAAAA,EAAU,EAC5B,GAAGR,MAAA;IAEJ,IAAIC,IAAA,EAAM;QACR,OAAA,WAAA,OACEQ,sOAAA,EAAC,OAAA;YAAIC,SAAA,EAAW,GAAGpB,sBAAA,CAAA,MAAA,CAA8B;;kCAC/CqB,qOAAA,EAACvB,oMAAA,EAAA;oBACCwB,WAAA,EAAA,WAAA,OACED,qOAAA,EAAC1B,8MAAA,EAAA;wBACC4B,QAAA,EAAU;4BACR,KAAKC,CAAC,EAAEC,QAAAA,EAAU,GAAA,WAAA,OAChBJ,qOAAA,EAAC3B,uLAAA,EAAA;oCACCgC,IAAA,MAAM9B,oJAAA,EAAe;wCACnBsB,UAAA;wCACAS,IAAA,EAAMZ;oCACR;oCACAa,QAAA,EAAU;8CAETH;;wBAGP;wBACAI,OAAA,EAAQ;wBACRC,CAAA,EAAGtB,IAAA,CAAKsB,CAAAA;;oBAGZC,OAAA,EAASvB,IAAA,CAAKsB,CAAC,CAAC;;kCAElBT,qOAAA,EAAC5B,yLAAA,EAAA;oBAAOuC,WAAA,EAAY;oBAAYC,EAAA,EAAG;oBAAOC,IAAA,EAAK;oBAAQC,EAAA,EAAIjB,UAAA;8BACxDV,IAAA,CAAKsB,CAAC,CAAC;;;;IAIhB;IAEA,OAAA,WAAA,OACEX,sOAAA,EAAC,OAAA;QAAIC,SAAA,EAAW,GAAGpB,sBAAA,CAAA,MAAA,CAA8B;;8BAC/CqB,qOAAA,EAACvB,oMAAA,EAAA;gBAAWiC,OAAA,EAASvB,IAAA,CAAKsB,CAAC,CAAC;;8BAC5BT,qOAAA,EAACtB,gOAAA,EAAA;gBAAkBQ,KAAA,EAAOA;;8BAC1Bc,qOAAA,EAAC3B,uLAAA,EAAA;gBACCgC,IAAA,MAAM9B,oJAAA,EAAe;oBACnBsB,UAAA;oBACAS,IAAA,EAAMV;gBACR;gBACAW,QAAA,EAAU;0BAETpB,IAAA,CAAKsB,CAAC,CAAC;;;;AAIhB","ignoreList":[]}},
    {"offset": {"line": 1895, "column": 0}, "map": {"version":3,"sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/dist/views/Verify/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ToastAndRedirect = registerClientReference(\n    function() { throw new Error(\"Attempted to call ToastAndRedirect() from the server but ToastAndRedirect is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cms/node_modules/@payloadcms/next/dist/views/Verify/index.client.js <module evaluation>\",\n    \"ToastAndRedirect\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,+QAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,qGACA","ignoreList":[0]}},
    {"offset": {"line": 1909, "column": 0}, "map": {"version":3,"sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/dist/views/Verify/index.client.js/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ToastAndRedirect = registerClientReference(\n    function() { throw new Error(\"Attempted to call ToastAndRedirect() from the server but ToastAndRedirect is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cms/node_modules/@payloadcms/next/dist/views/Verify/index.client.js\",\n    \"ToastAndRedirect\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,+QAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,iFACA","ignoreList":[0]}},
    {"offset": {"line": 1923, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Verify/index.client.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Verify/index.client.tsx"],"sourcesContent":["'use client'\nimport { toast, useRouteTransition } from '@payloadcms/ui'\nimport { useRouter } from 'next/navigation.js'\nimport React, { useEffect } from 'react'\n\ntype Props = {\n  message: string\n  redirectTo: string\n}\nexport function ToastAndRedirect({ message, redirectTo }: Props) {\n  const router = useRouter()\n  const { startRouteTransition } = useRouteTransition()\n  const hasToastedRef = React.useRef(false)\n\n  useEffect(() => {\n    let timeoutID\n\n    if (toast) {\n      timeoutID = setTimeout(() => {\n        toast.success(message)\n        hasToastedRef.current = true\n        startRouteTransition(() => router.push(redirectTo))\n      }, 100)\n    }\n\n    return () => {\n      if (timeoutID) {\n        clearTimeout(timeoutID)\n      }\n    }\n  }, [router, redirectTo, message, startRouteTransition])\n\n  return null\n}\n"],"names":["c","_c","toast","useRouteTransition","useRouter","React","useEffect","ToastAndRedirect","t0","$","message","redirectTo","router","startRouteTransition","hasToastedRef","useRef","t1","t2","timeoutID","current","push","clearTimeout"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 1933, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Verify/index.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Verify/index.tsx"],"sourcesContent":["import type { AdminViewServerProps } from 'payload'\n\nimport { formatAdminURL } from 'payload/shared'\nimport React from 'react'\n\nimport { Logo } from '../../elements/Logo/index.js'\nimport { ToastAndRedirect } from './index.client.js'\nimport './index.scss'\n\nexport const verifyBaseClass = 'verify'\n\nexport async function Verify({ initPageResult, params, searchParams }: AdminViewServerProps) {\n  // /:collectionSlug/verify/:token\n\n  const [collectionSlug, verify, token] = params.segments\n  const { locale, permissions, req } = initPageResult\n\n  const {\n    i18n,\n    payload: { config },\n    payload,\n    user,\n  } = req\n\n  const {\n    routes: { admin: adminRoute },\n  } = config\n\n  let textToRender\n  let isVerified = false\n\n  try {\n    await req.payload.verifyEmail({\n      collection: collectionSlug,\n      token,\n    })\n\n    isVerified = true\n    textToRender = req.t('authentication:emailVerified')\n  } catch (e) {\n    textToRender = req.t('authentication:unableToVerify')\n  }\n\n  if (isVerified) {\n    return (\n      <ToastAndRedirect\n        message={req.t('authentication:emailVerified')}\n        redirectTo={formatAdminURL({ adminRoute, path: '/login' })}\n      />\n    )\n  }\n\n  return (\n    <React.Fragment>\n      <div className={`${verifyBaseClass}__brand`}>\n        <Logo\n          i18n={i18n}\n          locale={locale}\n          params={params}\n          payload={payload}\n          permissions={permissions}\n          searchParams={searchParams}\n          user={user}\n        />\n      </div>\n      <h2>{textToRender}</h2>\n    </React.Fragment>\n  )\n}\n"],"names":["formatAdminURL","React","Logo","ToastAndRedirect","verifyBaseClass","Verify","initPageResult","params","searchParams","collectionSlug","verify","token","segments","locale","permissions","req","i18n","payload","config","user","routes","admin","adminRoute","textToRender","isVerified","verifyEmail","collection","t","e","_jsx","message","redirectTo","path","_jsxs","Fragment","className"],"mappings":";;;;;;;AAEA,SAASA,cAAc,QAAQ;AAC/B,OAAOC,KAAA,MAAW;AAElB,SAASC,IAAI,QAAQ;AACrB,SAASC,gBAAgB,QAAQ;;;;;;;;;;;AAG1B,MAAMC,eAAA,GAAkB;AAExB,eAAeC,OAAO,EAAEC,cAAc,EAAEC,MAAM,EAAEC,YAAAA,EAAoC;IACzF,iCAAA;IAEA,MAAM,CAACC,cAAA,EAAgBC,MAAA,EAAQC,KAAA,CAAM,GAAGJ,MAAA,CAAOK,QAAQ;IACvD,MAAM,EAAEC,MAAM,EAAEC,WAAW,EAAEC,GAAAA,EAAK,GAAGT,cAAA;IAErC,MAAM,EACJU,IAAI,EACJC,OAAA,EAAS,EAAEC,MAAAA,EAAQ,EACnBD,OAAO,EACPE,IAAAA,EACD,GAAGJ,GAAA;IAEJ,MAAM,EACJK,MAAA,EAAQ,EAAEC,KAAA,EAAOC,UAAAA,EAAU,EAC5B,GAAGJ,MAAA;IAEJ,IAAIK,YAAA;IACJ,IAAIC,UAAA,GAAa;IAEjB,IAAI;QACF,MAAMT,GAAA,CAAIE,OAAO,CAACQ,WAAW,CAAC;YAC5BC,UAAA,EAAYjB,cAAA;YACZE;QACF;QAEAa,UAAA,GAAa;QACbD,YAAA,GAAeR,GAAA,CAAIY,CAAC,CAAC;IACvB,EAAE,OAAOC,CAAA,EAAG;QACVL,YAAA,GAAeR,GAAA,CAAIY,CAAC,CAAC;IACvB;IAEA,IAAIH,UAAA,EAAY;QACd,OAAA,WAAA,OACEK,qOAAA,EAAC1B,6MAAA,EAAA;YACC2B,OAAA,EAASf,GAAA,CAAIY,CAAC,CAAC;YACfI,UAAA,MAAY/B,oJAAA,EAAe;gBAAEsB,UAAA;gBAAYU,IAAA,EAAM;YAAS;;IAG9D;IAEA,OAAA,WAAA,OACEC,sOAAA,EAAChC,uNAAA,CAAMiC,QAAQ,EAAA;;8BACbL,qOAAA,EAAC,OAAA;gBAAIM,SAAA,EAAW,GAAG/B,eAAA,CAAA,OAAA,CAAwB;0BACzC,WAAA,OAAAyB,qOAAA,EAAC3B,wLAAA,EAAA;oBACCc,IAAA,EAAMA,IAAA;oBACNH,MAAA,EAAQA,MAAA;oBACRN,MAAA,EAAQA,MAAA;oBACRU,OAAA,EAASA,OAAA;oBACTH,WAAA,EAAaA,WAAA;oBACbN,YAAA,EAAcA,YAAA;oBACdW,IAAA,EAAMA;;;8BAGVU,qOAAA,EAAC,MAAA;0BAAIN;;;;AAGX","ignoreList":[]}},
    {"offset": {"line": 2007, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Root/attachViewActions.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Root/attachViewActions.ts"],"sourcesContent":["import type {\n  CustomComponent,\n  EditConfig,\n  SanitizedCollectionConfig,\n  SanitizedGlobalConfig,\n} from 'payload'\n\nexport function getViewActions({\n  editConfig,\n  viewKey,\n}: {\n  editConfig: EditConfig\n  viewKey: keyof EditConfig\n}): CustomComponent[] {\n  if (editConfig && viewKey in editConfig && 'actions' in editConfig[viewKey]) {\n    return editConfig[viewKey].actions ?? []\n  }\n\n  return []\n}\n\nexport function getSubViewActions({\n  collectionOrGlobal,\n  viewKeyArg,\n}: {\n  collectionOrGlobal: SanitizedCollectionConfig | SanitizedGlobalConfig\n  viewKeyArg?: keyof EditConfig\n}): CustomComponent[] {\n  if (collectionOrGlobal?.admin?.components?.views?.edit) {\n    let viewKey = viewKeyArg || 'default'\n    if ('root' in collectionOrGlobal.admin.components.views.edit) {\n      viewKey = 'root'\n    }\n\n    const actions = getViewActions({\n      editConfig: collectionOrGlobal.admin?.components?.views?.edit,\n      viewKey,\n    })\n\n    return actions\n  }\n\n  return []\n}\n"],"names":["getViewActions","editConfig","viewKey","actions","getSubViewActions","collectionOrGlobal","viewKeyArg","admin","components","views","edit"],"mappings":";;;;;;AAOO,SAASA,eAAe,EAC7BC,UAAU,EACVC,OAAAA,EAID;IACC,IAAID,UAAA,IAAcC,OAAA,IAAWD,UAAA,IAAc,aAAaA,UAAU,CAACC,OAAA,CAAQ,EAAE;QAC3E,OAAOD,UAAU,CAACC,OAAA,CAAQ,CAACC,OAAO,IAAI,EAAE;IAC1C;IAEA,OAAO,EAAE;AACX;AAEO,SAASC,kBAAkB,EAChCC,kBAAkB,EAClBC,UAAAA,EAID;IACC,IAAID,kBAAA,EAAoBE,KAAA,EAAOC,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAM;QACtD,IAAIR,OAAA,GAAUI,UAAA,IAAc;QAC5B,IAAI,UAAUD,kBAAA,CAAmBE,KAAK,CAACC,UAAU,CAACC,KAAK,CAACC,IAAI,EAAE;YAC5DR,OAAA,GAAU;QACZ;QAEA,MAAMC,OAAA,GAAUH,cAAA,CAAe;YAC7BC,UAAA,EAAYI,kBAAA,CAAmBE,KAAK,EAAEC,UAAA,EAAYC,KAAA,EAAOC,IAAA;YACzDR;QACF;QAEA,OAAOC,OAAA;IACT;IAEA,OAAO,EAAE;AACX","ignoreList":[]}},
    {"offset": {"line": 2037, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Root/getCustomViewByKey.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Root/getCustomViewByKey.ts"],"sourcesContent":["import type { AdminViewServerProps, PayloadComponent, SanitizedConfig } from 'payload'\n\nimport type { ViewFromConfig } from './getRouteData.js'\n\nexport const getCustomViewByKey = ({\n  config,\n  viewKey,\n}: {\n  config: SanitizedConfig\n  viewKey: string\n}): {\n  view: ViewFromConfig\n  viewKey: string\n} | null => {\n  const customViewComponent = config.admin.components?.views?.[viewKey]\n\n  if (!customViewComponent) {\n    return null\n  }\n\n  return {\n    view: {\n      payloadComponent: customViewComponent.Component as PayloadComponent<AdminViewServerProps>,\n    },\n    viewKey,\n  }\n}\n"],"names":["getCustomViewByKey","config","viewKey","customViewComponent","admin","components","views","view","payloadComponent","Component"],"mappings":";;;;AAIO,MAAMA,kBAAA,GAAqBA,CAAC,EACjCC,MAAM,EACNC,OAAAA,EAID;IAIC,MAAMC,mBAAA,GAAsBF,MAAA,CAAOG,KAAK,CAACC,UAAU,EAAEC,KAAA,EAAA,CAAQJ,OAAA,CAAQ;IAErE,IAAI,CAACC,mBAAA,EAAqB;QACxB,OAAO;IACT;IAEA,OAAO;QACLI,IAAA,EAAM;YACJC,gBAAA,EAAkBL,mBAAA,CAAoBM,SAAAA;QACxC;QACAP;IACF;AACF","ignoreList":[]}},
    {"offset": {"line": 2057, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Root/getDocumentViewInfo.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Root/getDocumentViewInfo.ts"],"sourcesContent":["import type { DocumentSubViewTypes, ViewTypes } from 'payload'\n\nexport function getDocumentViewInfo(segments: string[]): {\n  documentSubViewType?: DocumentSubViewTypes\n  viewType: ViewTypes\n} {\n  const [tabSegment, versionSegment] = segments\n\n  if (versionSegment) {\n    if (tabSegment === 'versions') {\n      return {\n        documentSubViewType: 'version',\n        viewType: 'version',\n      }\n    }\n  } else {\n    if (tabSegment === 'versions') {\n      return {\n        documentSubViewType: 'versions',\n        viewType: 'document',\n      }\n    } else if (tabSegment === 'api') {\n      return {\n        documentSubViewType: 'api',\n        viewType: 'document',\n      }\n    }\n  }\n\n  return {\n    documentSubViewType: 'default',\n    viewType: 'document',\n  }\n}\n"],"names":["getDocumentViewInfo","segments","tabSegment","versionSegment","documentSubViewType","viewType"],"mappings":";;;;AAEO,SAASA,oBAAoBC,QAAkB;IAIpD,MAAM,CAACC,UAAA,EAAYC,cAAA,CAAe,GAAGF,QAAA;IAErC,IAAIE,cAAA,EAAgB;QAClB,IAAID,UAAA,KAAe,YAAY;YAC7B,OAAO;gBACLE,mBAAA,EAAqB;gBACrBC,QAAA,EAAU;YACZ;QACF;IACF,OAAO;QACL,IAAIH,UAAA,KAAe,YAAY;YAC7B,OAAO;gBACLE,mBAAA,EAAqB;gBACrBC,QAAA,EAAU;YACZ;QACF,OAAO,IAAIH,UAAA,KAAe,OAAO;YAC/B,OAAO;gBACLE,mBAAA,EAAqB;gBACrBC,QAAA,EAAU;YACZ;QACF;IACF;IAEA,OAAO;QACLD,mBAAA,EAAqB;QACrBC,QAAA,EAAU;IACZ;AACF","ignoreList":[]}},
    {"offset": {"line": 2094, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Root/getRouteData.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Root/getRouteData.ts"],"sourcesContent":["import type {\n  AdminViewServerProps,\n  CollectionPreferences,\n  CollectionSlug,\n  CustomComponent,\n  DocumentSubViewTypes,\n  Payload,\n  PayloadComponent,\n  SanitizedCollectionConfig,\n  SanitizedConfig,\n  SanitizedGlobalConfig,\n  ViewTypes,\n} from 'payload'\nimport type React from 'react'\n\nimport { parseDocumentID } from 'payload'\nimport { formatAdminURL, isNumber } from 'payload/shared'\n\nimport { AccountView } from '../Account/index.js'\nimport { BrowseByFolder } from '../BrowseByFolder/index.js'\nimport { CollectionFolderView } from '../CollectionFolders/index.js'\nimport { TrashView } from '../CollectionTrash/index.js'\nimport { CreateFirstUserView } from '../CreateFirstUser/index.js'\nimport { DashboardView } from '../Dashboard/index.js'\nimport { DocumentView } from '../Document/index.js'\nimport { forgotPasswordBaseClass, ForgotPasswordView } from '../ForgotPassword/index.js'\nimport { ListView } from '../List/index.js'\nimport { loginBaseClass, LoginView } from '../Login/index.js'\nimport { LogoutInactivity, LogoutView } from '../Logout/index.js'\nimport { ResetPassword, resetPasswordBaseClass } from '../ResetPassword/index.js'\nimport { UnauthorizedView } from '../Unauthorized/index.js'\nimport { Verify, verifyBaseClass } from '../Verify/index.js'\nimport { getSubViewActions, getViewActions } from './attachViewActions.js'\nimport { getCustomViewByKey } from './getCustomViewByKey.js'\nimport { getCustomViewByRoute } from './getCustomViewByRoute.js'\nimport { getDocumentViewInfo } from './getDocumentViewInfo.js'\nimport { isPathMatchingRoute } from './isPathMatchingRoute.js'\n\nconst baseClasses = {\n  account: 'account',\n  folders: 'folders',\n  forgot: forgotPasswordBaseClass,\n  login: loginBaseClass,\n  reset: resetPasswordBaseClass,\n  verify: verifyBaseClass,\n}\n\ntype OneSegmentViews = {\n  [K in Exclude<keyof SanitizedConfig['admin']['routes'], 'reset'>]: React.FC<AdminViewServerProps>\n}\n\nexport type ViewFromConfig = {\n  Component?: React.FC<AdminViewServerProps>\n  payloadComponent?: PayloadComponent<AdminViewServerProps>\n}\n\nconst oneSegmentViews: OneSegmentViews = {\n  account: AccountView,\n  browseByFolder: BrowseByFolder,\n  createFirstUser: CreateFirstUserView,\n  forgot: ForgotPasswordView,\n  inactivity: LogoutInactivity,\n  login: LoginView,\n  logout: LogoutView,\n  unauthorized: UnauthorizedView,\n}\n\ntype GetRouteDataResult = {\n  browseByFolderSlugs: CollectionSlug[]\n  collectionConfig?: SanitizedCollectionConfig\n  DefaultView: ViewFromConfig\n  documentSubViewType?: DocumentSubViewTypes\n  globalConfig?: SanitizedGlobalConfig\n  routeParams: {\n    collection?: string\n    folderCollection?: string\n    folderID?: number | string\n    global?: string\n    id?: number | string\n    token?: string\n    versionID?: number | string\n  }\n  templateClassName: string\n  templateType: 'default' | 'minimal'\n  viewActions?: CustomComponent[]\n  viewType?: ViewTypes\n}\n\ntype GetRouteDataArgs = {\n  adminRoute: string\n  collectionConfig?: SanitizedCollectionConfig\n  /**\n   * User preferences for a collection.\n   *\n   * These preferences are normally undefined\n   * unless the user is on the list view and the\n   * collection is folder enabled.\n   */\n  collectionPreferences?: CollectionPreferences\n  currentRoute: string\n  globalConfig?: SanitizedGlobalConfig\n  payload: Payload\n  searchParams: {\n    [key: string]: string | string[]\n  }\n  segments: string[]\n}\n\nexport const getRouteData = ({\n  adminRoute,\n  collectionConfig,\n  collectionPreferences = undefined,\n  currentRoute,\n  globalConfig,\n  payload,\n  segments,\n}: GetRouteDataArgs): GetRouteDataResult => {\n  const { config } = payload\n  let ViewToRender: ViewFromConfig = null\n  let templateClassName: string\n  let templateType: 'default' | 'minimal' | undefined\n  let documentSubViewType: DocumentSubViewTypes\n  let viewType: ViewTypes\n  const routeParams: GetRouteDataResult['routeParams'] = {}\n\n  const [segmentOne, segmentTwo, segmentThree, segmentFour, segmentFive, segmentSix] = segments\n\n  const isBrowseByFolderEnabled = config.folders && config.folders.browseByFolder\n  const browseByFolderSlugs =\n    (isBrowseByFolderEnabled &&\n      config.collections.reduce((acc, { slug, folders }) => {\n        if (folders && folders.browseByFolder) {\n          return [...acc, slug]\n        }\n        return acc\n      }, [])) ||\n    []\n\n  const viewActions: CustomComponent[] = [...(config?.admin?.components?.actions || [])]\n\n  switch (segments.length) {\n    case 0: {\n      if (currentRoute === adminRoute) {\n        ViewToRender = {\n          Component: DashboardView,\n        }\n        templateClassName = 'dashboard'\n        templateType = 'default'\n        viewType = 'dashboard'\n      }\n      break\n    }\n    case 1: {\n      // users can override the default routes via `admin.routes` config\n      // i.e.{ admin: { routes: { logout: '/sign-out', inactivity: '/idle' }}}\n      let viewKey: keyof typeof oneSegmentViews\n\n      if (config.admin.routes) {\n        const matchedRoute = Object.entries(config.admin.routes).find(([, route]) => {\n          return isPathMatchingRoute({\n            currentRoute,\n            exact: true,\n            path: formatAdminURL({ adminRoute, path: route }),\n          })\n        })\n\n        if (matchedRoute) {\n          viewKey = matchedRoute[0] as keyof typeof oneSegmentViews\n        }\n      }\n\n      // Check if a custom view is configured for this viewKey\n      // First try to get custom view by the known viewKey, then fallback to route matching\n      const customView =\n        (viewKey && getCustomViewByKey({ config, viewKey })) ||\n        getCustomViewByRoute({ config, currentRoute })\n\n      if (customView?.view?.payloadComponent || customView?.view?.Component) {\n        // User has configured a custom view (either overriding a built-in or a new custom view)\n        ViewToRender = customView.view\n\n        // If this custom view is overriding a built-in view (viewKey matches a built-in),\n        // use the built-in's template settings and viewType\n        if (viewKey && oneSegmentViews[viewKey]) {\n          viewType = viewKey as ViewTypes\n          templateClassName = baseClasses[viewKey] || viewKey\n          templateType = 'minimal'\n\n          if (viewKey === 'account') {\n            templateType = 'default'\n          }\n\n          if (isBrowseByFolderEnabled && viewKey === 'browseByFolder') {\n            templateType = 'default'\n            viewType = 'folders'\n          }\n        }\n      } else if (oneSegmentViews[viewKey]) {\n        // --> /account\n        // --> /create-first-user\n        // --> /browse-by-folder\n        // --> /forgot\n        // --> /login\n        // --> /logout\n        // --> /logout-inactivity\n        // --> /unauthorized\n\n        ViewToRender = {\n          Component: oneSegmentViews[viewKey],\n        }\n\n        viewType = viewKey as ViewTypes\n\n        templateClassName = baseClasses[viewKey]\n        templateType = 'minimal'\n\n        if (viewKey === 'account') {\n          templateType = 'default'\n        }\n\n        if (isBrowseByFolderEnabled && viewKey === 'browseByFolder') {\n          templateType = 'default'\n          viewType = 'folders'\n        }\n      }\n      break\n    }\n    case 2: {\n      if (`/${segmentOne}` === config.admin.routes.reset) {\n        // --> /reset/:token\n        ViewToRender = {\n          Component: ResetPassword,\n        }\n        templateClassName = baseClasses[segmentTwo]\n        templateType = 'minimal'\n        viewType = 'reset'\n      } else if (\n        isBrowseByFolderEnabled &&\n        `/${segmentOne}` === config.admin.routes.browseByFolder\n      ) {\n        // --> /browse-by-folder/:folderID\n        routeParams.folderID = segmentTwo\n\n        ViewToRender = {\n          Component: oneSegmentViews.browseByFolder,\n        }\n        templateClassName = baseClasses.folders\n        templateType = 'default'\n        viewType = 'folders'\n      } else if (collectionConfig) {\n        // --> /collections/:collectionSlug'\n        routeParams.collection = collectionConfig.slug\n\n        if (\n          collectionPreferences?.listViewType &&\n          collectionPreferences.listViewType === 'folders'\n        ) {\n          // Render folder view by default if set in preferences\n          ViewToRender = {\n            Component: CollectionFolderView,\n          }\n\n          templateClassName = `collection-folders`\n          templateType = 'default'\n          viewType = 'collection-folders'\n        } else {\n          ViewToRender = {\n            Component: ListView,\n          }\n\n          templateClassName = `${segmentTwo}-list`\n          templateType = 'default'\n          viewType = 'list'\n        }\n\n        viewActions.push(...(collectionConfig.admin.components?.views?.list?.actions || []))\n      } else if (globalConfig) {\n        // --> /globals/:globalSlug\n        routeParams.global = globalConfig.slug\n\n        ViewToRender = {\n          Component: DocumentView,\n        }\n\n        templateClassName = 'global-edit'\n        templateType = 'default'\n        viewType = 'document'\n\n        // add default view actions\n        viewActions.push(\n          ...getViewActions({\n            editConfig: globalConfig.admin?.components?.views?.edit,\n            viewKey: 'default',\n          }),\n        )\n      }\n      break\n    }\n    default:\n      if (segmentTwo === 'verify') {\n        // --> /:collectionSlug/verify/:token\n        routeParams.collection = segmentOne\n        routeParams.token = segmentThree\n\n        ViewToRender = {\n          Component: Verify,\n        }\n\n        templateClassName = 'verify'\n        templateType = 'minimal'\n        viewType = 'verify'\n      } else if (collectionConfig) {\n        routeParams.collection = collectionConfig.slug\n\n        if (segmentThree === 'trash' && typeof segmentFour === 'string') {\n          // --> /collections/:collectionSlug/trash/:id (read-only)\n          // --> /collections/:collectionSlug/trash/:id/api\n          // --> /collections/:collectionSlug/trash/:id/preview\n          // --> /collections/:collectionSlug/trash/:id/versions\n          // --> /collections/:collectionSlug/trash/:id/versions/:versionID\n          routeParams.id = segmentFour\n          routeParams.versionID = segmentSix\n\n          ViewToRender = {\n            Component: DocumentView,\n          }\n\n          templateClassName = `collection-default-edit`\n          templateType = 'default'\n\n          const viewInfo = getDocumentViewInfo([segmentFive, segmentSix])\n          viewType = viewInfo.viewType\n          documentSubViewType = viewInfo.documentSubViewType\n\n          viewActions.push(\n            ...getSubViewActions({\n              collectionOrGlobal: collectionConfig,\n              viewKeyArg: documentSubViewType,\n            }),\n          )\n        } else if (segmentThree === 'trash') {\n          // --> /collections/:collectionSlug/trash\n          ViewToRender = {\n            Component: TrashView,\n          }\n\n          templateClassName = `${segmentTwo}-trash`\n          templateType = 'default'\n          viewType = 'trash'\n\n          viewActions.push(...(collectionConfig.admin.components?.views?.list?.actions || []))\n        } else {\n          if (config.folders && segmentThree === config.folders.slug && collectionConfig.folders) {\n            // Collection Folder Views\n            // --> /collections/:collectionSlug/:folderCollectionSlug\n            // --> /collections/:collectionSlug/:folderCollectionSlug/:folderID\n            routeParams.folderCollection = segmentThree\n            routeParams.folderID = segmentFour\n\n            ViewToRender = {\n              Component: CollectionFolderView,\n            }\n\n            templateClassName = `collection-folders`\n            templateType = 'default'\n            viewType = 'collection-folders'\n\n            viewActions.push(...(collectionConfig.admin.components?.views?.list?.actions || []))\n          } else {\n            // Collection Edit Views\n            // --> /collections/:collectionSlug/create\n            // --> /collections/:collectionSlug/:id\n            // --> /collections/:collectionSlug/:id/api\n            // --> /collections/:collectionSlug/:id/versions\n            // --> /collections/:collectionSlug/:id/versions/:versionID\n            routeParams.id = segmentThree === 'create' ? undefined : segmentThree\n            routeParams.versionID = segmentFive\n\n            ViewToRender = {\n              Component: DocumentView,\n            }\n\n            templateClassName = `collection-default-edit`\n            templateType = 'default'\n\n            const viewInfo = getDocumentViewInfo([segmentFour, segmentFive])\n            viewType = viewInfo.viewType\n            documentSubViewType = viewInfo.documentSubViewType\n\n            viewActions.push(\n              ...getSubViewActions({\n                collectionOrGlobal: collectionConfig,\n                viewKeyArg: documentSubViewType,\n              }),\n            )\n          }\n        }\n      } else if (globalConfig) {\n        // Global Edit Views\n        // --> /globals/:globalSlug/versions\n        // --> /globals/:globalSlug/versions/:versionID\n        // --> /globals/:globalSlug/api\n        routeParams.global = globalConfig.slug\n        routeParams.versionID = segmentFour\n\n        ViewToRender = {\n          Component: DocumentView,\n        }\n\n        templateClassName = `global-edit`\n        templateType = 'default'\n\n        const viewInfo = getDocumentViewInfo([segmentThree, segmentFour])\n        viewType = viewInfo.viewType\n        documentSubViewType = viewInfo.documentSubViewType\n\n        viewActions.push(\n          ...getSubViewActions({\n            collectionOrGlobal: globalConfig,\n            viewKeyArg: documentSubViewType,\n          }),\n        )\n      }\n      break\n  }\n\n  if (!ViewToRender) {\n    ViewToRender = getCustomViewByRoute({ config, currentRoute })?.view\n  }\n\n  if (collectionConfig) {\n    if (routeParams.id) {\n      routeParams.id = parseDocumentID({\n        id: routeParams.id,\n        collectionSlug: collectionConfig.slug,\n        payload,\n      })\n    }\n\n    if (routeParams.versionID) {\n      routeParams.versionID = parseDocumentID({\n        id: routeParams.versionID,\n        collectionSlug: collectionConfig.slug,\n        payload,\n      })\n    }\n  }\n\n  if (config.folders && routeParams.folderID) {\n    routeParams.folderID = parseDocumentID({\n      id: routeParams.folderID,\n      collectionSlug: config.folders.slug,\n      payload,\n    })\n  }\n\n  if (globalConfig && routeParams.versionID) {\n    routeParams.versionID =\n      payload.db.defaultIDType === 'number' && isNumber(routeParams.versionID)\n        ? Number(routeParams.versionID)\n        : routeParams.versionID\n  }\n\n  if (viewActions.length) {\n    viewActions.reverse()\n  }\n\n  return {\n    browseByFolderSlugs,\n    collectionConfig,\n    DefaultView: ViewToRender,\n    documentSubViewType,\n    globalConfig,\n    routeParams,\n    templateClassName,\n    templateType,\n    viewActions: viewActions.length ? viewActions : undefined,\n    viewType,\n  }\n}\n"],"names":["parseDocumentID","formatAdminURL","isNumber","AccountView","BrowseByFolder","CollectionFolderView","TrashView","CreateFirstUserView","DashboardView","DocumentView","forgotPasswordBaseClass","ForgotPasswordView","ListView","loginBaseClass","LoginView","LogoutInactivity","LogoutView","ResetPassword","resetPasswordBaseClass","UnauthorizedView","Verify","verifyBaseClass","getSubViewActions","getViewActions","getCustomViewByKey","getCustomViewByRoute","getDocumentViewInfo","isPathMatchingRoute","baseClasses","account","folders","forgot","login","reset","verify","oneSegmentViews","browseByFolder","createFirstUser","inactivity","logout","unauthorized","getRouteData","adminRoute","collectionConfig","collectionPreferences","undefined","currentRoute","globalConfig","payload","segments","config","ViewToRender","templateClassName","templateType","documentSubViewType","viewType","routeParams","segmentOne","segmentTwo","segmentThree","segmentFour","segmentFive","segmentSix","isBrowseByFolderEnabled","browseByFolderSlugs","collections","reduce","acc","slug","viewActions","admin","components","actions","length","Component","viewKey","routes","matchedRoute","Object","entries","find","route","exact","path","customView","view","payloadComponent","folderID","collection","listViewType","push","views","list","global","editConfig","edit","token","id","versionID","viewInfo","collectionOrGlobal","viewKeyArg","folderCollection","collectionSlug","db","defaultIDType","Number","reverse","DefaultView"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2503, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Root/index.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Root/index.tsx"],"sourcesContent":["import type { I18nClient } from '@payloadcms/translations'\nimport type { Metadata } from 'next'\nimport type {\n  AdminViewClientProps,\n  AdminViewServerPropsOnly,\n  CollectionPreferences,\n  ImportMap,\n  SanitizedCollectionConfig,\n  SanitizedConfig,\n  SanitizedGlobalConfig,\n} from 'payload'\n\nimport { PageConfigProvider } from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { getClientConfig } from '@payloadcms/ui/utilities/getClientConfig'\nimport { notFound, redirect } from 'next/navigation.js'\nimport { applyLocaleFiltering, formatAdminURL } from 'payload/shared'\nimport * as qs from 'qs-esm'\nimport React from 'react'\n\nimport { DefaultTemplate } from '../../templates/Default/index.js'\nimport { MinimalTemplate } from '../../templates/Minimal/index.js'\nimport { getPreferences } from '../../utilities/getPreferences.js'\nimport { getVisibleEntities } from '../../utilities/getVisibleEntities.js'\nimport { handleAuthRedirect } from '../../utilities/handleAuthRedirect.js'\nimport { initReq } from '../../utilities/initReq.js'\nimport { isCustomAdminView } from '../../utilities/isCustomAdminView.js'\nimport { isPublicAdminRoute } from '../../utilities/isPublicAdminRoute.js'\nimport { getCustomViewByRoute } from './getCustomViewByRoute.js'\nimport { getRouteData } from './getRouteData.js'\n\nexport type GenerateViewMetadata = (args: {\n  config: SanitizedConfig\n  i18n: I18nClient\n  isEditing?: boolean\n  params?: { [key: string]: string | string[] }\n}) => Promise<Metadata>\n\nexport const RootPage = async ({\n  config: configPromise,\n  importMap,\n  params: paramsPromise,\n  searchParams: searchParamsPromise,\n}: {\n  readonly config: Promise<SanitizedConfig>\n  readonly importMap: ImportMap\n  readonly params: Promise<{\n    segments: string[]\n  }>\n  readonly searchParams: Promise<{\n    [key: string]: string | string[]\n  }>\n}) => {\n  const config = await configPromise\n\n  const {\n    admin: {\n      routes: { createFirstUser: _createFirstUserRoute },\n      user: userSlug,\n    },\n    routes: { admin: adminRoute },\n  } = config\n\n  const params = await paramsPromise\n\n  const currentRoute = formatAdminURL({\n    adminRoute,\n    path: Array.isArray(params.segments) ? `/${params.segments.join('/')}` : null,\n  })\n\n  const segments = Array.isArray(params.segments) ? params.segments : []\n  const isCollectionRoute = segments[0] === 'collections'\n  const isGlobalRoute = segments[0] === 'globals'\n  let collectionConfig: SanitizedCollectionConfig = undefined\n  let globalConfig: SanitizedGlobalConfig = undefined\n\n  const searchParams = await searchParamsPromise\n\n  // Redirect `${adminRoute}/collections` to `${adminRoute}`\n  if (isCollectionRoute) {\n    if (segments.length === 1) {\n      const { viewKey } = getCustomViewByRoute({\n        config,\n        currentRoute: '/collections',\n      })\n\n      // Only redirect if there's NO custom view configured for /collections\n      if (!viewKey) {\n        redirect(adminRoute)\n      }\n    }\n\n    if (segments[1]) {\n      collectionConfig = config.collections.find(({ slug }) => slug === segments[1])\n    }\n  }\n\n  // Redirect `${adminRoute}/globals` to `${adminRoute}`\n  if (isGlobalRoute) {\n    if (segments.length === 1) {\n      const { viewKey } = getCustomViewByRoute({\n        config,\n        currentRoute: '/globals',\n      })\n\n      // Only redirect if there's NO custom view configured for /globals\n      if (!viewKey) {\n        redirect(adminRoute)\n      }\n    }\n\n    if (segments[1]) {\n      globalConfig = config.globals.find(({ slug }) => slug === segments[1])\n    }\n  }\n\n  if ((isCollectionRoute && !collectionConfig) || (isGlobalRoute && !globalConfig)) {\n    return notFound()\n  }\n\n  const queryString = `${qs.stringify(searchParams ?? {}, { addQueryPrefix: true })}`\n  const {\n    cookies,\n    locale,\n    permissions,\n    req,\n    req: { payload },\n  } = await initReq({\n    configPromise: config,\n    importMap,\n    key: 'initPage',\n    overrides: {\n      fallbackLocale: false,\n      req: {\n        query: qs.parse(queryString, {\n          depth: 10,\n          ignoreQueryPrefix: true,\n        }),\n      },\n      urlSuffix: `${currentRoute}${searchParams ? queryString : ''}`,\n    },\n  })\n\n  if (\n    !permissions.canAccessAdmin &&\n    !isPublicAdminRoute({ adminRoute, config: payload.config, route: currentRoute }) &&\n    !isCustomAdminView({ adminRoute, config: payload.config, route: currentRoute })\n  ) {\n    redirect(\n      handleAuthRedirect({\n        config: payload.config,\n        route: currentRoute,\n        searchParams,\n        user: req.user,\n      }),\n    )\n  }\n\n  let collectionPreferences: CollectionPreferences = undefined\n\n  if (collectionConfig && segments.length === 2) {\n    if (config.folders && collectionConfig.folders && segments[1] !== config.folders.slug) {\n      await getPreferences<CollectionPreferences>(\n        `collection-${collectionConfig.slug}`,\n        req.payload,\n        req.user.id,\n        config.admin.user,\n      ).then((res) => {\n        if (res && res.value) {\n          collectionPreferences = res.value\n        }\n      })\n    }\n  }\n\n  const {\n    browseByFolderSlugs,\n    DefaultView,\n    documentSubViewType,\n    routeParams,\n    templateClassName,\n    templateType,\n    viewActions,\n    viewType,\n  } = getRouteData({\n    adminRoute,\n    collectionConfig,\n    collectionPreferences,\n    currentRoute,\n    globalConfig,\n    payload,\n    searchParams,\n    segments,\n  })\n\n  req.routeParams = routeParams\n\n  const dbHasUser =\n    req.user ||\n    (await req.payload.db\n      .findOne({\n        collection: userSlug,\n        req,\n      })\n      ?.then((doc) => !!doc))\n\n  /**\n   * This function is responsible for handling the case where the view is not found.\n   * The current route did not match any default views or custom route views.\n   */\n  if (!DefaultView?.Component && !DefaultView?.payloadComponent) {\n    if (req?.user) {\n      notFound()\n    }\n\n    if (dbHasUser) {\n      redirect(adminRoute)\n    }\n  }\n\n  const createFirstUserRoute = formatAdminURL({ adminRoute, path: _createFirstUserRoute })\n\n  const usersCollection = config.collections.find(({ slug }) => slug === userSlug)\n  const disableLocalStrategy = usersCollection?.auth?.disableLocalStrategy\n\n  if (disableLocalStrategy && currentRoute === createFirstUserRoute) {\n    redirect(adminRoute)\n  }\n\n  if (!dbHasUser && currentRoute !== createFirstUserRoute && !disableLocalStrategy) {\n    redirect(createFirstUserRoute)\n  }\n\n  if (dbHasUser && currentRoute === createFirstUserRoute) {\n    redirect(adminRoute)\n  }\n\n  if (!DefaultView?.Component && !DefaultView?.payloadComponent && !dbHasUser) {\n    redirect(adminRoute)\n  }\n\n  const clientConfig = getClientConfig({\n    config,\n    i18n: req.i18n,\n    importMap,\n    user: viewType === 'createFirstUser' ? true : req.user,\n  })\n  await applyLocaleFiltering({ clientConfig, config, req })\n\n  // Ensure locale on req is still valid after filtering locales\n  if (\n    clientConfig.localization &&\n    req.locale &&\n    !clientConfig.localization.localeCodes.includes(req.locale)\n  ) {\n    redirect(\n      `${currentRoute}${qs.stringify(\n        {\n          ...searchParams,\n          locale: clientConfig.localization.localeCodes.includes(\n            clientConfig.localization.defaultLocale,\n          )\n            ? clientConfig.localization.defaultLocale\n            : clientConfig.localization.localeCodes[0],\n        },\n        { addQueryPrefix: true },\n      )}`,\n    )\n  }\n\n  const visibleEntities = getVisibleEntities({ req })\n\n  const folderID = routeParams.folderID\n\n  const RenderedView = RenderServerComponent({\n    clientProps: {\n      browseByFolderSlugs,\n      clientConfig,\n      documentSubViewType,\n      viewType,\n    } satisfies AdminViewClientProps,\n    Component: DefaultView.payloadComponent,\n    Fallback: DefaultView.Component,\n    importMap,\n    serverProps: {\n      clientConfig,\n      collectionConfig,\n      docID: routeParams.id,\n      folderID,\n      globalConfig,\n      i18n: req.i18n,\n      importMap,\n      initPageResult: {\n        collectionConfig,\n        cookies,\n        docID: routeParams.id,\n        globalConfig,\n        languageOptions: Object.entries(req.payload.config.i18n.supportedLanguages || {}).reduce(\n          (acc, [language, languageConfig]) => {\n            if (Object.keys(req.payload.config.i18n.supportedLanguages).includes(language)) {\n              acc.push({\n                label: languageConfig.translations.general.thisLanguage,\n                value: language,\n              })\n            }\n\n            return acc\n          },\n          [],\n        ),\n        locale,\n        permissions,\n        req,\n        translations: req.i18n.translations,\n        visibleEntities,\n      },\n      params,\n      payload: req.payload,\n      searchParams,\n      viewActions,\n    } satisfies AdminViewServerPropsOnly,\n  })\n\n  return (\n    <PageConfigProvider config={clientConfig}>\n      {!templateType && <React.Fragment>{RenderedView}</React.Fragment>}\n      {templateType === 'minimal' && (\n        <MinimalTemplate className={templateClassName}>{RenderedView}</MinimalTemplate>\n      )}\n      {templateType === 'default' && (\n        <DefaultTemplate\n          collectionSlug={collectionConfig?.slug}\n          docID={routeParams.id}\n          documentSubViewType={documentSubViewType}\n          globalSlug={globalConfig?.slug}\n          i18n={req.i18n}\n          locale={locale}\n          params={params}\n          payload={req.payload}\n          permissions={permissions}\n          req={req}\n          searchParams={searchParams}\n          user={req.user}\n          viewActions={viewActions}\n          viewType={viewType}\n          visibleEntities={{\n            // The reason we are not passing in initPageResult.visibleEntities directly is due to a \"Cannot assign to read only property of object '#<Object>\" error introduced in React 19\n            // which this caused as soon as initPageResult.visibleEntities is passed in\n            collections: visibleEntities?.collections,\n            globals: visibleEntities?.globals,\n          }}\n        >\n          {RenderedView}\n        </DefaultTemplate>\n      )}\n    </PageConfigProvider>\n  )\n}\n"],"names":["PageConfigProvider","RenderServerComponent","getClientConfig","notFound","redirect","applyLocaleFiltering","formatAdminURL","qs","React","DefaultTemplate","MinimalTemplate","getPreferences","getVisibleEntities","handleAuthRedirect","initReq","isCustomAdminView","isPublicAdminRoute","getCustomViewByRoute","getRouteData","RootPage","config","configPromise","importMap","params","paramsPromise","searchParams","searchParamsPromise","admin","routes","createFirstUser","_createFirstUserRoute","user","userSlug","adminRoute","currentRoute","path","Array","isArray","segments","join","isCollectionRoute","isGlobalRoute","collectionConfig","undefined","globalConfig","length","viewKey","collections","find","slug","globals","queryString","stringify","addQueryPrefix","cookies","locale","permissions","req","payload","key","overrides","fallbackLocale","query","parse","depth","ignoreQueryPrefix","urlSuffix","canAccessAdmin","route","collectionPreferences","folders","id","then","res","value","browseByFolderSlugs","DefaultView","documentSubViewType","routeParams","templateClassName","templateType","viewActions","viewType","dbHasUser","db","findOne","collection","doc","Component","payloadComponent","createFirstUserRoute","usersCollection","disableLocalStrategy","auth","clientConfig","i18n","localization","localeCodes","includes","defaultLocale","visibleEntities","folderID","RenderedView","clientProps","Fallback","serverProps","docID","initPageResult","languageOptions","Object","entries","supportedLanguages","reduce","acc","language","languageConfig","keys","push","label","translations","general","thisLanguage","_jsxs","_jsx","Fragment","className","collectionSlug","globalSlug"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2801, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Account/metadata.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Account/metadata.ts"],"sourcesContent":["import type { GenerateViewMetadata } from '../Root/index.js'\n\nimport { generateMetadata } from '../../utilities/meta.js'\n\nexport const generateAccountViewMetadata: GenerateViewMetadata = async ({ config, i18n: { t } }) =>\n  generateMetadata({\n    description: `${t('authentication:accountOfCurrentUser')}`,\n    keywords: `${t('authentication:account')}`,\n    serverURL: config.serverURL,\n    title: t('authentication:account'),\n    ...(config.admin.meta || {}),\n  })\n"],"names":["generateMetadata","generateAccountViewMetadata","config","i18n","t","description","keywords","serverURL","title","admin","meta"],"mappings":";;;;AAEA,SAASA,gBAAgB,QAAQ;;AAE1B,MAAMC,2BAAA,GAAoD,MAAAA,CAAO,EAAEC,MAAM,EAAEC,IAAA,EAAM,EAAEC,CAAAA,EAAC,EAAI,OAC7FJ,4LAAA,EAAiB;QACfK,WAAA,EAAa,GAAGD,CAAA,CAAE,wCAAwC;QAC1DE,QAAA,EAAU,GAAGF,CAAA,CAAE,2BAA2B;QAC1CG,SAAA,EAAWL,MAAA,CAAOK,SAAS;QAC3BC,KAAA,EAAOJ,CAAA,CAAE;QACT,GAAIF,MAAA,CAAOO,KAAK,CAACC,IAAI,IAAI,CAAC,CAAC;IAC7B","ignoreList":[]}},
    {"offset": {"line": 2818, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/BrowseByFolder/metadata.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/BrowseByFolder/metadata.ts"],"sourcesContent":["import type { Metadata } from 'next'\n\nimport type { GenerateViewMetadata } from '../Root/index.js'\n\nimport { generateMetadata } from '../../utilities/meta.js'\n\nexport const generateBrowseByFolderMetadata = async (\n  args: Parameters<GenerateViewMetadata>[0],\n): Promise<Metadata> => {\n  const { config, i18n } = args\n\n  const title: string = i18n.t('folder:browseByFolder')\n  const description: string = ''\n  const keywords: string = ''\n\n  return generateMetadata({\n    ...(config.admin.meta || {}),\n    description,\n    keywords,\n    serverURL: config.serverURL,\n    title,\n  })\n}\n"],"names":["generateMetadata","generateBrowseByFolderMetadata","args","config","i18n","title","t","description","keywords","admin","meta","serverURL"],"mappings":";;;;AAIA,SAASA,gBAAgB,QAAQ;;AAE1B,MAAMC,8BAAA,GAAiC,OAC5CC,IAAA;IAEA,MAAM,EAAEC,MAAM,EAAEC,IAAAA,EAAM,GAAGF,IAAA;IAEzB,MAAMG,KAAA,GAAgBD,IAAA,CAAKE,CAAC,CAAC;IAC7B,MAAMC,WAAA,GAAsB;IAC5B,MAAMC,QAAA,GAAmB;IAEzB,WAAOR,4LAAA,EAAiB;QACtB,GAAIG,MAAA,CAAOM,KAAK,CAACC,IAAI,IAAI,CAAC,CAAC;QAC3BH,WAAA;QACAC,QAAA;QACAG,SAAA,EAAWR,MAAA,CAAOQ,SAAS;QAC3BN;IACF;AACF","ignoreList":[]}},
    {"offset": {"line": 2841, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/CollectionFolders/metadata.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/CollectionFolders/metadata.ts"],"sourcesContent":["import type { Metadata } from 'next'\nimport type { SanitizedCollectionConfig } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\n\nimport type { GenerateViewMetadata } from '../Root/index.js'\n\nimport { generateMetadata } from '../../utilities/meta.js'\n\nexport const generateCollectionFolderMetadata = async (\n  args: {\n    collectionConfig: SanitizedCollectionConfig\n  } & Parameters<GenerateViewMetadata>[0],\n): Promise<Metadata> => {\n  const { collectionConfig, config, i18n } = args\n\n  let title: string = ''\n  const description: string = ''\n  const keywords: string = ''\n\n  if (collectionConfig) {\n    title = getTranslation(collectionConfig.labels.singular, i18n)\n  }\n\n  title = `${title ? `${title} ` : title}${i18n.t('folder:folders')}`\n\n  return generateMetadata({\n    ...(config.admin.meta || {}),\n    description,\n    keywords,\n    serverURL: config.serverURL,\n    title,\n    ...(collectionConfig?.admin?.meta || {}),\n  })\n}\n"],"names":["getTranslation","generateMetadata","generateCollectionFolderMetadata","args","collectionConfig","config","i18n","title","description","keywords","labels","singular","t","admin","meta","serverURL"],"mappings":";;;;AAGA,SAASA,cAAc,QAAQ;AAI/B,SAASC,gBAAgB,QAAQ;;;AAE1B,MAAMC,gCAAA,GAAmC,OAC9CC,IAAA;IAIA,MAAM,EAAEC,gBAAgB,EAAEC,MAAM,EAAEC,IAAAA,EAAM,GAAGH,IAAA;IAE3C,IAAII,KAAA,GAAgB;IACpB,MAAMC,WAAA,GAAsB;IAC5B,MAAMC,QAAA,GAAmB;IAEzB,IAAIL,gBAAA,EAAkB;QACpBG,KAAA,OAAQP,4MAAA,EAAeI,gBAAA,CAAiBM,MAAM,CAACC,QAAQ,EAAEL,IAAA;IAC3D;IAEAC,KAAA,GAAQ,GAAGA,KAAA,GAAQ,GAAGA,KAAA,CAAA,CAAA,CAAQ,GAAGA,KAAA,GAAQD,IAAA,CAAKM,CAAC,CAAC,mBAAmB;IAEnE,WAAOX,4LAAA,EAAiB;QACtB,GAAII,MAAA,CAAOQ,KAAK,CAACC,IAAI,IAAI,CAAC,CAAC;QAC3BN,WAAA;QACAC,QAAA;QACAM,SAAA,EAAWV,MAAA,CAAOU,SAAS;QAC3BR,KAAA;QACA,GAAIH,gBAAA,EAAkBS,KAAA,EAAOC,IAAA,IAAQ,CAAC,CAAC;IACzC;AACF","ignoreList":[]}},
    {"offset": {"line": 2871, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/CollectionTrash/metadata.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/CollectionTrash/metadata.ts"],"sourcesContent":["import type { Metadata } from 'next'\nimport type { SanitizedCollectionConfig } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\n\nimport type { GenerateViewMetadata } from '../Root/index.js'\n\nimport { generateMetadata } from '../../utilities/meta.js'\n\nexport const generateCollectionTrashMetadata = async (\n  args: {\n    collectionConfig: SanitizedCollectionConfig\n  } & Parameters<GenerateViewMetadata>[0],\n): Promise<Metadata> => {\n  const { collectionConfig, config, i18n } = args\n\n  let title: string = ''\n  const description: string = ''\n  const keywords: string = ''\n\n  if (collectionConfig) {\n    title = getTranslation(collectionConfig.labels.plural, i18n)\n  }\n\n  title = `${title ? `${title} ` : title}${i18n.t('general:trash')}`\n\n  return generateMetadata({\n    ...(config.admin.meta || {}),\n    description,\n    keywords,\n    serverURL: config.serverURL,\n    title,\n    ...(collectionConfig?.admin?.meta || {}),\n  })\n}\n"],"names":["getTranslation","generateMetadata","generateCollectionTrashMetadata","args","collectionConfig","config","i18n","title","description","keywords","labels","plural","t","admin","meta","serverURL"],"mappings":";;;;AAGA,SAASA,cAAc,QAAQ;AAI/B,SAASC,gBAAgB,QAAQ;;;AAE1B,MAAMC,+BAAA,GAAkC,OAC7CC,IAAA;IAIA,MAAM,EAAEC,gBAAgB,EAAEC,MAAM,EAAEC,IAAAA,EAAM,GAAGH,IAAA;IAE3C,IAAII,KAAA,GAAgB;IACpB,MAAMC,WAAA,GAAsB;IAC5B,MAAMC,QAAA,GAAmB;IAEzB,IAAIL,gBAAA,EAAkB;QACpBG,KAAA,OAAQP,4MAAA,EAAeI,gBAAA,CAAiBM,MAAM,CAACC,MAAM,EAAEL,IAAA;IACzD;IAEAC,KAAA,GAAQ,GAAGA,KAAA,GAAQ,GAAGA,KAAA,CAAA,CAAA,CAAQ,GAAGA,KAAA,GAAQD,IAAA,CAAKM,CAAC,CAAC,kBAAkB;IAElE,WAAOX,4LAAA,EAAiB;QACtB,GAAII,MAAA,CAAOQ,KAAK,CAACC,IAAI,IAAI,CAAC,CAAC;QAC3BN,WAAA;QACAC,QAAA;QACAM,SAAA,EAAWV,MAAA,CAAOU,SAAS;QAC3BR,KAAA;QACA,GAAIH,gBAAA,EAAkBS,KAAA,EAAOC,IAAA,IAAQ,CAAC,CAAC;IACzC;AACF","ignoreList":[]}},
    {"offset": {"line": 2901, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/CreateFirstUser/metadata.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/CreateFirstUser/metadata.ts"],"sourcesContent":["import type { GenerateViewMetadata } from '../Root/index.js'\n\nimport { generateMetadata } from '../../utilities/meta.js'\n\nexport const generateCreateFirstUserViewMetadata: GenerateViewMetadata = async ({\n  config,\n  i18n: { t },\n}) =>\n  generateMetadata({\n    description: t('authentication:createFirstUser'),\n    keywords: t('general:create'),\n    serverURL: config.serverURL,\n    title: t('authentication:createFirstUser'),\n    ...(config.admin.meta || {}),\n  })\n"],"names":["generateMetadata","generateCreateFirstUserViewMetadata","config","i18n","t","description","keywords","serverURL","title","admin","meta"],"mappings":";;;;AAEA,SAASA,gBAAgB,QAAQ;;AAE1B,MAAMC,mCAAA,GAA4D,MAAAA,CAAO,EAC9EC,MAAM,EACNC,IAAA,EAAM,EAAEC,CAAAA,EAAC,EACV,OACCJ,4LAAA,EAAiB;QACfK,WAAA,EAAaD,CAAA,CAAE;QACfE,QAAA,EAAUF,CAAA,CAAE;QACZG,SAAA,EAAWL,MAAA,CAAOK,SAAS;QAC3BC,KAAA,EAAOJ,CAAA,CAAE;QACT,GAAIF,MAAA,CAAOO,KAAK,CAACC,IAAI,IAAI,CAAC,CAAC;IAC7B","ignoreList":[]}},
    {"offset": {"line": 2918, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Dashboard/metadata.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Dashboard/metadata.ts"],"sourcesContent":["import type { GenerateViewMetadata } from '../Root/index.js'\n\nimport { generateMetadata } from '../../utilities/meta.js'\n\nexport const generateDashboardViewMetadata: GenerateViewMetadata = async ({\n  config,\n  i18n: { t },\n}) =>\n  generateMetadata({\n    serverURL: config.serverURL,\n    title: t('general:dashboard'),\n    ...config.admin.meta,\n    openGraph: {\n      title: t('general:dashboard'),\n      ...(config.admin.meta?.openGraph || {}),\n    },\n  })\n"],"names":["generateMetadata","generateDashboardViewMetadata","config","i18n","t","serverURL","title","admin","meta","openGraph"],"mappings":";;;;AAEA,SAASA,gBAAgB,QAAQ;;AAE1B,MAAMC,6BAAA,GAAsD,MAAAA,CAAO,EACxEC,MAAM,EACNC,IAAA,EAAM,EAAEC,CAAAA,EAAC,EACV,OACCJ,4LAAA,EAAiB;QACfK,SAAA,EAAWH,MAAA,CAAOG,SAAS;QAC3BC,KAAA,EAAOF,CAAA,CAAE;QACT,GAAGF,MAAA,CAAOK,KAAK,CAACC,IAAI;QACpBC,SAAA,EAAW;YACTH,KAAA,EAAOF,CAAA,CAAE;YACT,GAAIF,MAAA,CAAOK,KAAK,CAACC,IAAI,EAAEC,SAAA,IAAa,CAAC,CAAC;QACxC;IACF","ignoreList":[]}},
    {"offset": {"line": 2939, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Document/metadata.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Document/metadata.ts"],"sourcesContent":["import type { GenerateEditViewMetadata } from './getMetaBySegment.js'\n\nimport { getMetaBySegment } from './getMetaBySegment.js'\n\nexport const generateDocumentViewMetadata: GenerateEditViewMetadata = async (args) =>\n  getMetaBySegment(args)\n"],"names":["getMetaBySegment","generateDocumentViewMetadata","args"],"mappings":";;;;AAEA,SAASA,gBAAgB,QAAQ;;;;;;AAE1B,MAAMC,4BAAA,GAAyD,OAAOC,IAAA,OAC3EF,gNAAA,EAAiBE,IAAA","ignoreList":[]}},
    {"offset": {"line": 2955, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/ForgotPassword/metadata.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/ForgotPassword/metadata.ts"],"sourcesContent":["import type { GenerateViewMetadata } from '../Root/index.js'\n\nimport { generateMetadata } from '../../utilities/meta.js'\n\nexport const generateForgotPasswordViewMetadata: GenerateViewMetadata = async ({\n  config,\n  i18n: { t },\n}) =>\n  generateMetadata({\n    description: t('authentication:forgotPassword'),\n    keywords: t('authentication:forgotPassword'),\n    title: t('authentication:forgotPassword'),\n    ...(config.admin.meta || {}),\n    serverURL: config.serverURL,\n  })\n"],"names":["generateMetadata","generateForgotPasswordViewMetadata","config","i18n","t","description","keywords","title","admin","meta","serverURL"],"mappings":";;;;AAEA,SAASA,gBAAgB,QAAQ;;AAE1B,MAAMC,kCAAA,GAA2D,MAAAA,CAAO,EAC7EC,MAAM,EACNC,IAAA,EAAM,EAAEC,CAAAA,EAAC,EACV,OACCJ,4LAAA,EAAiB;QACfK,WAAA,EAAaD,CAAA,CAAE;QACfE,QAAA,EAAUF,CAAA,CAAE;QACZG,KAAA,EAAOH,CAAA,CAAE;QACT,GAAIF,MAAA,CAAOM,KAAK,CAACC,IAAI,IAAI,CAAC,CAAC;QAC3BC,SAAA,EAAWR,MAAA,CAAOQ,SAAAA;IACpB","ignoreList":[]}},
    {"offset": {"line": 2972, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/List/metadata.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/List/metadata.ts"],"sourcesContent":["import type { Metadata } from 'next'\nimport type { SanitizedCollectionConfig } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\n\nimport type { GenerateViewMetadata } from '../Root/index.js'\n\nimport { generateMetadata } from '../../utilities/meta.js'\n\nexport const generateListViewMetadata = async (\n  args: {\n    collectionConfig: SanitizedCollectionConfig\n  } & Parameters<GenerateViewMetadata>[0],\n): Promise<Metadata> => {\n  const { collectionConfig, config, i18n } = args\n\n  let title: string = ''\n  const description: string = ''\n  const keywords: string = ''\n\n  if (collectionConfig) {\n    title = getTranslation(collectionConfig.labels.plural, i18n)\n  }\n\n  return generateMetadata({\n    ...(config.admin.meta || {}),\n    description,\n    keywords,\n    serverURL: config.serverURL,\n    title,\n    ...(collectionConfig?.admin?.meta || {}),\n  })\n}\n"],"names":["getTranslation","generateMetadata","generateListViewMetadata","args","collectionConfig","config","i18n","title","description","keywords","labels","plural","admin","meta","serverURL"],"mappings":";;;;AAGA,SAASA,cAAc,QAAQ;AAI/B,SAASC,gBAAgB,QAAQ;;;AAE1B,MAAMC,wBAAA,GAA2B,OACtCC,IAAA;IAIA,MAAM,EAAEC,gBAAgB,EAAEC,MAAM,EAAEC,IAAAA,EAAM,GAAGH,IAAA;IAE3C,IAAII,KAAA,GAAgB;IACpB,MAAMC,WAAA,GAAsB;IAC5B,MAAMC,QAAA,GAAmB;IAEzB,IAAIL,gBAAA,EAAkB;QACpBG,KAAA,OAAQP,4MAAA,EAAeI,gBAAA,CAAiBM,MAAM,CAACC,MAAM,EAAEL,IAAA;IACzD;IAEA,WAAOL,4LAAA,EAAiB;QACtB,GAAII,MAAA,CAAOO,KAAK,CAACC,IAAI,IAAI,CAAC,CAAC;QAC3BL,WAAA;QACAC,QAAA;QACAK,SAAA,EAAWT,MAAA,CAAOS,SAAS;QAC3BP,KAAA;QACA,GAAIH,gBAAA,EAAkBQ,KAAA,EAAOC,IAAA,IAAQ,CAAC,CAAC;IACzC;AACF","ignoreList":[]}},
    {"offset": {"line": 3001, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Login/metadata.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Login/metadata.ts"],"sourcesContent":["import type { GenerateViewMetadata } from '../Root/index.js'\n\nimport { generateMetadata } from '../../utilities/meta.js'\n\nexport const generateLoginViewMetadata: GenerateViewMetadata = async ({ config, i18n: { t } }) =>\n  generateMetadata({\n    description: `${t('authentication:login')}`,\n    keywords: `${t('authentication:login')}`,\n    serverURL: config.serverURL,\n    title: t('authentication:login'),\n    ...(config.admin.meta || {}),\n  })\n"],"names":["generateMetadata","generateLoginViewMetadata","config","i18n","t","description","keywords","serverURL","title","admin","meta"],"mappings":";;;;AAEA,SAASA,gBAAgB,QAAQ;;AAE1B,MAAMC,yBAAA,GAAkD,MAAAA,CAAO,EAAEC,MAAM,EAAEC,IAAA,EAAM,EAAEC,CAAAA,EAAC,EAAI,OAC3FJ,4LAAA,EAAiB;QACfK,WAAA,EAAa,GAAGD,CAAA,CAAE,yBAAyB;QAC3CE,QAAA,EAAU,GAAGF,CAAA,CAAE,yBAAyB;QACxCG,SAAA,EAAWL,MAAA,CAAOK,SAAS;QAC3BC,KAAA,EAAOJ,CAAA,CAAE;QACT,GAAIF,MAAA,CAAOO,KAAK,CAACC,IAAI,IAAI,CAAC,CAAC;IAC7B","ignoreList":[]}},
    {"offset": {"line": 3018, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/ResetPassword/metadata.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/ResetPassword/metadata.ts"],"sourcesContent":["import type { Metadata } from 'next'\n\nimport type { GenerateViewMetadata } from '../Root/index.js'\n\nimport { generateMetadata } from '../../utilities/meta.js'\n\nexport const generateResetPasswordViewMetadata: GenerateViewMetadata = async ({\n  config,\n  i18n: { t },\n}): Promise<Metadata> =>\n  generateMetadata({\n    description: t('authentication:resetPassword'),\n    keywords: t('authentication:resetPassword'),\n    serverURL: config.serverURL,\n    title: t('authentication:resetPassword'),\n    ...(config.admin.meta || {}),\n  })\n"],"names":["generateMetadata","generateResetPasswordViewMetadata","config","i18n","t","description","keywords","serverURL","title","admin","meta"],"mappings":";;;;AAIA,SAASA,gBAAgB,QAAQ;;AAE1B,MAAMC,iCAAA,GAA0D,MAAAA,CAAO,EAC5EC,MAAM,EACNC,IAAA,EAAM,EAAEC,CAAAA,EAAC,EACV,OACCJ,4LAAA,EAAiB;QACfK,WAAA,EAAaD,CAAA,CAAE;QACfE,QAAA,EAAUF,CAAA,CAAE;QACZG,SAAA,EAAWL,MAAA,CAAOK,SAAS;QAC3BC,KAAA,EAAOJ,CAAA,CAAE;QACT,GAAIF,MAAA,CAAOO,KAAK,CAACC,IAAI,IAAI,CAAC,CAAC;IAC7B","ignoreList":[]}},
    {"offset": {"line": 3035, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Unauthorized/metadata.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Unauthorized/metadata.ts"],"sourcesContent":["import type { GenerateViewMetadata } from '../Root/index.js'\n\nimport { generateMetadata } from '../../utilities/meta.js'\n\nexport const generateUnauthorizedViewMetadata: GenerateViewMetadata = async ({\n  config,\n  i18n: { t },\n}) =>\n  generateMetadata({\n    description: t('error:unauthorized'),\n    keywords: t('error:unauthorized'),\n    serverURL: config.serverURL,\n    title: t('error:unauthorized'),\n    ...(config.admin.meta || {}),\n  })\n"],"names":["generateMetadata","generateUnauthorizedViewMetadata","config","i18n","t","description","keywords","serverURL","title","admin","meta"],"mappings":";;;;AAEA,SAASA,gBAAgB,QAAQ;;AAE1B,MAAMC,gCAAA,GAAyD,MAAAA,CAAO,EAC3EC,MAAM,EACNC,IAAA,EAAM,EAAEC,CAAAA,EAAC,EACV,OACCJ,4LAAA,EAAiB;QACfK,WAAA,EAAaD,CAAA,CAAE;QACfE,QAAA,EAAUF,CAAA,CAAE;QACZG,SAAA,EAAWL,MAAA,CAAOK,SAAS;QAC3BC,KAAA,EAAOJ,CAAA,CAAE;QACT,GAAIF,MAAA,CAAOO,KAAK,CAACC,IAAI,IAAI,CAAC,CAAC;IAC7B","ignoreList":[]}},
    {"offset": {"line": 3052, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Verify/metadata.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Verify/metadata.ts"],"sourcesContent":["import type { GenerateViewMetadata } from '../Root/index.js'\n\nimport { generateMetadata } from '../../utilities/meta.js'\n\nexport const generateVerifyViewMetadata: GenerateViewMetadata = async ({ config, i18n: { t } }) =>\n  generateMetadata({\n    description: t('authentication:verifyUser'),\n    keywords: t('authentication:verify'),\n    serverURL: config.serverURL,\n    title: t('authentication:verify'),\n    ...(config.admin.meta || {}),\n  })\n"],"names":["generateMetadata","generateVerifyViewMetadata","config","i18n","t","description","keywords","serverURL","title","admin","meta"],"mappings":";;;;AAEA,SAASA,gBAAgB,QAAQ;;AAE1B,MAAMC,0BAAA,GAAmD,MAAAA,CAAO,EAAEC,MAAM,EAAEC,IAAA,EAAM,EAAEC,CAAAA,EAAC,EAAI,OAC5FJ,4LAAA,EAAiB;QACfK,WAAA,EAAaD,CAAA,CAAE;QACfE,QAAA,EAAUF,CAAA,CAAE;QACZG,SAAA,EAAWL,MAAA,CAAOK,SAAS;QAC3BC,KAAA,EAAOJ,CAAA,CAAE;QACT,GAAIF,MAAA,CAAOO,KAAK,CAACC,IAAI,IAAI,CAAC,CAAC;IAC7B","ignoreList":[]}},
    {"offset": {"line": 3069, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Root/generateCustomViewMetadata.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Root/generateCustomViewMetadata.ts"],"sourcesContent":["import type { I18nClient } from '@payloadcms/translations'\nimport type { Metadata } from 'next'\nimport type {\n  AdminViewConfig,\n  SanitizedCollectionConfig,\n  SanitizedConfig,\n  SanitizedGlobalConfig,\n} from 'payload'\n\nimport { generateMetadata } from '../../utilities/meta.js'\n\nexport const generateCustomViewMetadata = async (args: {\n  collectionConfig?: SanitizedCollectionConfig\n  config: SanitizedConfig\n  globalConfig?: SanitizedGlobalConfig\n  i18n: I18nClient\n  viewConfig: AdminViewConfig\n}): Promise<Metadata> => {\n  const {\n    config,\n    // i18n: { t },\n    viewConfig,\n  } = args\n\n  if (!viewConfig) {\n    return null\n  }\n\n  return generateMetadata({\n    description: `Payload`,\n    keywords: `Payload`,\n    serverURL: config.serverURL,\n    title: 'Payload',\n    ...(config.admin.meta || {}),\n    ...(viewConfig.meta || {}),\n    openGraph: {\n      title: 'Payload',\n      ...(config.admin.meta?.openGraph || {}),\n      ...(viewConfig.meta?.openGraph || {}),\n    },\n  })\n}\n"],"names":["generateMetadata","generateCustomViewMetadata","args","config","viewConfig","description","keywords","serverURL","title","admin","meta","openGraph"],"mappings":";;;;AASA,SAASA,gBAAgB,QAAQ;;AAE1B,MAAMC,0BAAA,GAA6B,OAAOC,IAAA;IAO/C,MAAM,EACJC,MAAM,EACN,eAAA;IACAC,UAAAA,EACD,GAAGF,IAAA;IAEJ,IAAI,CAACE,UAAA,EAAY;QACf,OAAO;IACT;IAEA,WAAOJ,4LAAA,EAAiB;QACtBK,WAAA,EAAa,CAAA,OAAA,CAAS;QACtBC,QAAA,EAAU,CAAA,OAAA,CAAS;QACnBC,SAAA,EAAWJ,MAAA,CAAOI,SAAS;QAC3BC,KAAA,EAAO;QACP,GAAIL,MAAA,CAAOM,KAAK,CAACC,IAAI,IAAI,CAAC,CAAC;QAC3B,GAAIN,UAAA,CAAWM,IAAI,IAAI,CAAC,CAAC;QACzBC,SAAA,EAAW;YACTH,KAAA,EAAO;YACP,GAAIL,MAAA,CAAOM,KAAK,CAACC,IAAI,EAAEC,SAAA,IAAa,CAAC,CAAC;YACtC,GAAIP,UAAA,CAAWM,IAAI,EAAEC,SAAA,IAAa,CAAC,CAAC;QACtC;IACF;AACF","ignoreList":[]}},
    {"offset": {"line": 3101, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/cms/node_modules/@payloadcms/next/dist/views/Root/metadata.js","sources":["file:///Users/jameshuang/The-Truth-Interactive/cms/node_modules/%40payloadcms/next/src/views/Root/metadata.ts"],"sourcesContent":["import type { Metadata } from 'next'\nimport type { SanitizedConfig } from 'payload'\n\nimport { getNextRequestI18n } from '../../utilities/getNextRequestI18n.js'\nimport { generateAccountViewMetadata } from '../Account/metadata.js'\nimport { generateBrowseByFolderMetadata } from '../BrowseByFolder/metadata.js'\nimport { generateCollectionFolderMetadata } from '../CollectionFolders/metadata.js'\nimport { generateCollectionTrashMetadata } from '../CollectionTrash/metadata.js'\nimport { generateCreateFirstUserViewMetadata } from '../CreateFirstUser/metadata.js'\nimport { generateDashboardViewMetadata } from '../Dashboard/metadata.js'\nimport { generateDocumentViewMetadata } from '../Document/metadata.js'\nimport { generateForgotPasswordViewMetadata } from '../ForgotPassword/metadata.js'\nimport { generateListViewMetadata } from '../List/metadata.js'\nimport { generateLoginViewMetadata } from '../Login/metadata.js'\nimport { generateNotFoundViewMetadata } from '../NotFound/metadata.js'\nimport { generateResetPasswordViewMetadata } from '../ResetPassword/metadata.js'\nimport { generateUnauthorizedViewMetadata } from '../Unauthorized/metadata.js'\nimport { generateVerifyViewMetadata } from '../Verify/metadata.js'\nimport { generateCustomViewMetadata } from './generateCustomViewMetadata.js'\nimport { getCustomViewByRoute } from './getCustomViewByRoute.js'\n\nconst oneSegmentMeta = {\n  'create-first-user': generateCreateFirstUserViewMetadata,\n  folders: generateBrowseByFolderMetadata,\n  forgot: generateForgotPasswordViewMetadata,\n  login: generateLoginViewMetadata,\n  logout: generateUnauthorizedViewMetadata,\n  'logout-inactivity': generateUnauthorizedViewMetadata,\n  unauthorized: generateUnauthorizedViewMetadata,\n}\n\ntype Args = {\n  config: Promise<SanitizedConfig>\n  params: Promise<{\n    [key: string]: string | string[]\n  }>\n  searchParams: Promise<{\n    [key: string]: string | string[]\n  }>\n}\n\nexport const generatePageMetadata = async ({\n  config: configPromise,\n  params: paramsPromise,\n}: Args) => {\n  const config = await configPromise\n  const params = await paramsPromise\n\n  const folderCollectionSlugs = config.collections.reduce((acc, { slug, folders }) => {\n    if (folders) {\n      return [...acc, slug]\n    }\n    return acc\n  }, [])\n  const segments = Array.isArray(params.segments) ? params.segments : []\n\n  const currentRoute = `/${segments.join('/')}`\n  const [segmentOne, segmentTwo, segmentThree] = segments\n\n  const isGlobal = segmentOne === 'globals'\n  const isCollection = segmentOne === 'collections'\n\n  const i18n = await getNextRequestI18n({\n    config,\n  })\n\n  let meta: Metadata\n\n  // TODO: handle custom routes\n\n  const collectionConfig =\n    isCollection &&\n    segments.length > 1 &&\n    config?.collections?.find((collection) => collection.slug === segmentTwo)\n\n  const globalConfig =\n    isGlobal && segments.length > 1 && config?.globals?.find((global) => global.slug === segmentTwo)\n\n  switch (segments.length) {\n    case 0: {\n      meta = await generateDashboardViewMetadata({ config, i18n })\n      break\n    }\n    case 1: {\n      if (folderCollectionSlugs.length && `/${segmentOne}` === config.admin.routes.browseByFolder) {\n        // --> /:folderCollectionSlug\n        meta = await oneSegmentMeta.folders({ config, i18n })\n      } else if (segmentOne === 'account') {\n        // --> /account\n        meta = await generateAccountViewMetadata({ config, i18n })\n        break\n      } else if (oneSegmentMeta[segmentOne]) {\n        // --> /create-first-user\n        // --> /forgot\n        // --> /login\n        // --> /logout\n        // --> /logout-inactivity\n        // --> /unauthorized\n        meta = await oneSegmentMeta[segmentOne]({ config, i18n })\n        break\n      }\n      break\n    }\n    case 2: {\n      if (`/${segmentOne}` === config.admin.routes.reset) {\n        // --> /reset/:token\n        meta = await generateResetPasswordViewMetadata({ config, i18n })\n      } else if (\n        folderCollectionSlugs.length &&\n        `/${segmentOne}` === config.admin.routes.browseByFolder\n      ) {\n        // --> /browse-by-folder/:folderID\n        meta = await generateBrowseByFolderMetadata({ config, i18n })\n      } else if (isCollection) {\n        // --> /collections/:collectionSlug\n        meta = await generateListViewMetadata({ collectionConfig, config, i18n })\n      } else if (isGlobal) {\n        // --> /globals/:globalSlug\n        meta = await generateDocumentViewMetadata({\n          config,\n          globalConfig,\n          i18n,\n          params,\n        })\n      }\n      break\n    }\n    default: {\n      if (segmentTwo === 'verify') {\n        // --> /:collectionSlug/verify/:token\n        meta = await generateVerifyViewMetadata({ config, i18n })\n      } else if (isCollection) {\n        if (segmentThree === 'trash' && segments.length === 3 && collectionConfig) {\n          // Collection Trash Views\n          // --> /collections/:collectionSlug/trash\n          meta = await generateCollectionTrashMetadata({\n            collectionConfig,\n            config,\n            i18n,\n            params,\n          })\n        } else if (config.folders && segmentThree === config.folders.slug) {\n          if (folderCollectionSlugs.includes(collectionConfig.slug)) {\n            // Collection Folder Views\n            // --> /collections/:collectionSlug/:folderCollectionSlug\n            // --> /collections/:collectionSlug/:folderCollectionSlug/:id\n            meta = await generateCollectionFolderMetadata({\n              collectionConfig,\n              config,\n              i18n,\n              params,\n            })\n          }\n        } else {\n          // Collection Document Views\n          // --> /collections/:collectionSlug/:id\n          // --> /collections/:collectionSlug/:id/versions\n          // --> /collections/:collectionSlug/:id/versions/:version\n          // --> /collections/:collectionSlug/:id/api\n          // --> /collections/:collectionSlug/trash/:id\n          meta = await generateDocumentViewMetadata({ collectionConfig, config, i18n, params })\n        }\n      } else if (isGlobal) {\n        // Global Document Views\n        // --> /globals/:globalSlug/versions\n        // --> /globals/:globalSlug/versions/:version\n        // --> /globals/:globalSlug/api\n        meta = await generateDocumentViewMetadata({\n          config,\n          globalConfig,\n          i18n,\n          params,\n        })\n      }\n      break\n    }\n  }\n\n  if (!meta) {\n    const { viewConfig, viewKey } = getCustomViewByRoute({\n      config,\n      currentRoute,\n    })\n\n    if (viewKey) {\n      // Custom Views\n      // --> /:path\n      meta = await generateCustomViewMetadata({\n        config,\n        i18n,\n        viewConfig,\n      })\n    } else {\n      meta = await generateNotFoundViewMetadata({ config, i18n })\n    }\n  }\n\n  return meta\n}\n"],"names":["getNextRequestI18n","generateAccountViewMetadata","generateBrowseByFolderMetadata","generateCollectionFolderMetadata","generateCollectionTrashMetadata","generateCreateFirstUserViewMetadata","generateDashboardViewMetadata","generateDocumentViewMetadata","generateForgotPasswordViewMetadata","generateListViewMetadata","generateLoginViewMetadata","generateNotFoundViewMetadata","generateResetPasswordViewMetadata","generateUnauthorizedViewMetadata","generateVerifyViewMetadata","generateCustomViewMetadata","getCustomViewByRoute","oneSegmentMeta","folders","forgot","login","logout","unauthorized","generatePageMetadata","config","configPromise","params","paramsPromise","folderCollectionSlugs","collections","reduce","acc","slug","segments","Array","isArray","currentRoute","join","segmentOne","segmentTwo","segmentThree","isGlobal","isCollection","i18n","meta","collectionConfig","length","find","collection","globalConfig","globals","global","admin","routes","browseByFolder","reset","includes","viewConfig","viewKey"],"mappings":"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","ignoreList":[]}}]
}